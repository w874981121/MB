webpackJsonp([1],{"/KFi":function(e,t){},"/wTR":function(e,t){},"2QhH":function(e,t,a){e.exports=a.p+"static/img/welcome.844ce95.jpg"},"2aSK":function(e,t){},"4qOc":function(e,t){},"6g3T":function(e,t){},"7Otq":function(e,t,a){e.exports=a.p+"static/img/logo.706eb96.png"},BvZi:function(e,t){},EXm8:function(e,t,a){e.exports=a.p+"static/img/login_text.65eb854.png"},Exnp:function(e,t){},J9XL:function(e,t){},KdWu:function(e,t){},KeQ3:function(e,t){},MFAh:function(e,t){},MFEH:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("//Fk"),o=a.n(s),r=a("7+uW"),n=a("zL8q"),i=a.n(n),l=(a("tvR6"),{name:"NavList",data:function(){return{navindex:"0-0",initnav:"websitemm",initindex:"websitemm",navlistData:[{name:"账号管理",key:"0",url:"open-websitemm-roleam",state:!1,list:[{name:"网站账号管理",key:"00",url:"websitemm",state:!1},{name:"角色权限管理",key:"01",url:"roleam",state:!1}]},{name:"网站管理",key:"1",url:"open-forumm-enterprisa-expertlh",state:!1,list:[{name:"网站信息",key:"10",url:"webaccount",state:!1},{name:"论坛管理",key:"11",url:"forumm",state:!1},{name:"企业公告",key:"12",url:"enterprisa",state:!1},{name:"专家讲堂",key:"13",url:"expertlh",state:!1}]},{name:"VIP医生管理",key:"2",url:"vipdm",state:!1},{name:"普通医生管理",key:"3",url:"doctorm",state:!1},{name:"VIP会员管理",key:"4",url:"open-vipi-healthr-abnormalr-remoteo-datas",state:!1,list:[{name:"VIP信息",key:"40",url:"vipi",state:!1},{name:"健康记录",key:"41",url:"healthr",state:!1},{name:"异常报告",key:"42",url:"abnormalr",state:!1},{name:"远程订单",key:"43",url:"remoteo",state:!1},{name:"数据统计",key:"44",url:"chart",state:!1}]},{name:"普通会员管理",key:"5",url:"regularmm",state:!1},{name:"登录遇到问题",key:"6",url:"loginlog",state:!1}]}},watch:{$route:function(e,t){this.initnav=e.path.split("/")[1],this.initindex=e.path.split("/")[1]}},methods:{handleOpen:function(e,t){},handleClose:function(e,t){},handleSelect:function(e,t){this.initindex=e},repTest:function(e,t){var a=t.split("/");a=a.length<2?t:a[1];return new RegExp(a).test(e)},getPurview:function(){var e=this.navlistData,t=function(){e.forEach(function(e,t){e.state=!0,e.list&&e.list.forEach(function(e,t){e.state=!0})})};0==this.cookieFn.get("type")?t():1==this.cookieFn.get("type")?(t(),e[0].list[0].state=!1):this.$axios.get("/api/back/purview/"+this.cookieFn.get("usersid")).then(function(t){t.data.data.forEach(function(t,a){e.forEach(function(a,s){a.name==t.purviewname?e[s].state=!0:void 0!==a.list&&a.list.forEach(function(a,o){a.name==t.purviewname&&(e[s].list[o].state=!0,e[s].state=!0)})})})}).catch(function(e){console.log(e)})}},beforeMount:function(){this.getPurview(),this.initnav=this.$route.path.split("/")[1],this.initindex=this.$route.path},mounted:function(){}}),c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-col",{attrs:{span:12}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"default-active":e.initnav,"background-color":"#545c64","text-color":"#fff","unique-opened":!0,"active-text-color":"#ffd04b"},on:{select:e.handleSelect,open:e.handleOpen,close:e.handleClose}},[e._l(e.navlistData,function(t,s){return[t.list&&t.state?a("el-submenu",{key:t.key,attrs:{index:t.url}},[a("template",{slot:"title"},[a("span",{style:{color:e.repTest(t.url,e.initindex)?"#ffd04b":"#fff"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.list,function(t,s){return t.state?a("el-menu-item",{key:t.key,attrs:{index:t.url}},[e._v("\n            "+e._s(t.name)+"\n          ")]):e._e()})],2):e._e(),e._v(" "),!t.list&&t.state?a("el-menu-item",{attrs:{index:t.url}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]):e._e()]})],2)],1)],1)},staticRenderFns:[]},m=a("VU/8")(l,c,!1,function(e){a("/KFi")},"data-v-1d28ac90",null).exports,u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},d=a("VU/8")({name:"app"},u,!1,function(e){a("QHVw")},"data-v-1e425840",null).exports,p=a("/ocq"),h={name:"contentbox",data:function(){return{username:this.cookieFn.get("username"),truename:this.cookieFn.get("truename")}},mounted:function(){console.log(this.username,this.truename),console.log(this.$store.state)},methods:{signOut:function(){var e=this,t=this;this.$axios.get("/api/usersLogin").then(function(a){console.log(a),e.$message({showClose:!0,type:"warning",message:"退出成功！"}),t.$router.push({path:"/"}),t.cookieFn.delete("username"),t.cookieFn.delete("truename"),t.cookieFn.delete("usersid"),t.cookieFn.delete("type")}).catch(function(e){console.log(e)})}},components:{NavList:m}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"contentbox"}},[t("div",{staticClass:"top"},[this._m(0),this._v(" "),t("div",{staticClass:"sign_out fr mr20",on:{click:this.signOut}},[t("i"),this._v("\n      退出\n    ")]),this._v(" "),t("div",{staticClass:"username fr mr20"},[t("i"),this._v(" "),t("b",[this._v(this._s(this.username))]),this._v(" "),t("span",[this._v(this._s(this.truename))])])]),this._v(" "),t("div",{staticClass:"nav"},[t("NavList")],1),this._v(" "),t("div",{staticClass:"content"},[t("router-view")],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"toptitle fl ml20"},[t("img",{attrs:{src:a("7Otq"),alt:""}})])}]},g=a("VU/8")(h,f,!1,function(e){a("KdWu")},null,null).exports,v=a("mw3O"),b=a.n(v),w={data:function(){return{login:{usersname:"",password:""}}},methods:{postLogin:function(){var e=this;this.$axios.post("/api/login",b.a.stringify(this.login),{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(t){console.log(t);t.data.data;switch(t.data.errcode){case 0:e.$message({showClose:!0,type:"success",message:"登陆成功！"}),e.cookieFn.set("username",t.data.data.username),e.cookieFn.set("truename",t.data.data.truename),e.cookieFn.set("usersid",t.data.data.usersid),e.cookieFn.set("type",t.data.data.type),e.cookieFn.set("token",t.data.data.token),e.$router.push({path:"/contentbox"});break;case 30002:e.$alert("登录失败(账号密码错误)","登录失败",{confirmButtonText:"确定",type:"error"});break;case 30010:e.$alert("登录失败(账号被冻结)","登录失败",{confirmButtonText:"确定",type:"error"})}}).catch(function(e){console.log(e)})},open:function(){this.$alert("客服电话：010-12345678","联系客服",{confirmButtonText:"确定"})}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"login_box"},[a("div",{staticClass:"login_bg"},[e._m(0),e._v(" "),a("div",{staticClass:"formdiv"},[a("el-input",{attrs:{size:"medium",placeholder:"请输入账号"},model:{value:e.login.usersname,callback:function(t){e.$set(e.login,"usersname",t)},expression:"login.usersname"}}),e._v(" "),a("el-input",{staticClass:"mt20",attrs:{type:"password",size:"medium",placeholder:"请输入密码"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.postLogin(t)}},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}}),e._v(" "),a("a",{staticClass:"mt10",on:{click:e.open}},[e._v("遇到问题")]),e._v(" "),a("el-button",{staticClass:"mt20",staticStyle:{width:"100%"},attrs:{size:"medium",type:"primary"},on:{click:e.postLogin},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.postLogin(t)}}},[e._v("\n        登陆\n      ")])],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"text"},[t("img",{attrs:{src:a("EXm8"),alt:""}})])}]},y=a("VU/8")(w,_,!1,function(e){a("WJu6")},"data-v-9259051a",null).exports,$={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome"},[t("img",{attrs:{src:a("2QhH"),alt:""}})])}]},x=a("VU/8")({},$,!1,function(e){a("gQSt")},"data-v-2d21d40a",null).exports,k={name:"searchBox",props:{searchData:{type:Object,required:!0}},data:function(){return{path:this.searchData.path,url:this.searchData.url,text:""}},methods:{onSubmit:function(){this.$emit("response",this.text)},newAccount:function(){console.log(this),this.$router.push({path:this.path})}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"searchBox"},[a("el-form",{staticClass:"demo-form-inline mt10",attrs:{inline:!0}},[a("el-button",{staticClass:"fl ml10",attrs:{type:"primary"},on:{click:e.newAccount}},[e._v(e._s(e.searchData.newname?e.searchData.newname:"新建账号"))]),e._v(" "),a("el-form-item",{staticClass:"fr"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"fr",attrs:{label:e.searchData.name}},[a("el-input",{attrs:{placeholder:e.searchData.placeholder},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)],1)],1)},staticRenderFns:[]},D=a("VU/8")(k,S,!1,function(e){a("hDPi")},"data-v-fa2241d6",null).exports,C={name:"dataTable",props:{dataTable:{type:Object,required:!0}},data:function(){return{}},methods:{tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},postModify:function(e){console.log(e),this.$emit("modify",e)},postDelete:function(e){this.$emit("delete",e)},newAccount:function(){console.log(this),this.$router.push({path:""})}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableCss"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataTable.data,height:"400",border:"",stripe:"","row-class-name":e.tableRowClassName}},[e._l(e.dataTable.listname,function(e){return[a("el-table-column",{attrs:{align:"center",prop:e.field,label:e.name,width:e.width?e.width:"auto"}})]}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"address",label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.postModify(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.postDelete(t.row)}}},[e._v("删除")])]}}])})],2)],1)},staticRenderFns:[]},N=a("VU/8")(C,U,!1,function(e){a("soAp")},"data-v-91b61264",null).exports,I={name:"website-mccount-management",data:function(){return{searchData:{path:"/websitemm/newaccount",name:"",placeholder:"输入公司名称"},total:0,pageSize:0,webSitedata:{currentPage:1,name:""},tableData:{listname:[{field:"registerDate",name:"创建时间",width:"90"},{field:"truename",name:"公司名称"},{field:"weburl",name:"网站地址"},{field:"linkName",name:"联系人"},{field:"lockState",name:"状态"},{field:"phone",name:"联系人手机号"}],data:[]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.$axios.get("/api/back/users/webSite",{params:this.webSitedata}).then(function(a){var s=a.data.data.list;s.forEach(function(e,a){s[a].registerDate=t.$timeonversionC(e.registerDate),s[a].truename=decodeURIComponent(e.truename),s[a].linkName=decodeURIComponent(e.linkName),s[a].lockState=0==e.lockState?"未禁用":"已禁用"}),e.tableData.data=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize),e.webSitedata.currentPage=a.data.data.pageNum}).catch(function(e){console.log(e)})},onSubmit:function(e){this.webSitedata.name=e,this.getData()},getPage:function(e){console.log(e),this.webSitedata.currentPage=e,this.getData()},postModify:function(e){this.$router.push({path:"/websitemm/reviseaccount",query:{usersid:e.usersid}})},postDelete:function(e){var t=this;this.$confirm("确认删除网站账号？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/api/back/users/delete",{usersId:e.usersid}).then(function(e){t.$message({type:"success",message:"删除成功！"}),t.getData()}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消"})})}},components:{Search:D,DataTable:N}},T={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"website-mccount-management"},[t("Search",{attrs:{searchData:this.searchData},on:{response:this.onSubmit}}),this._v(" "),t("DataTable",{attrs:{dataTable:this.tableData},on:{modify:this.postModify,delete:this.postDelete}}),this._v(" "),t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","page-size":this.pageSize,total:this.total},on:{"current-change":this.getPage}})],1)},staticRenderFns:[]},P=a("VU/8")(I,T,!1,function(e){a("MFEH")},null,null).exports,E={name:"new-account",data:function(){return{upimgUrl:this.$urlapi+"/back/users/image",imageUrl:"",loading:!1,form:{photoUrl:"",truename:"",linkName:"",phone:"",lockState:""}}},mounted:function(){var e=this;this.$axios.get("/api/back/users/"+this.$route.query.usersid,{params:{usersid:this.$route.query.usersid}}).then(function(t){console.log(t);var a=t.data.data;e.imageUrl=e.$api+"/images/"+a.photoUrl,e.form.photoUrl=a.photoUrl,e.form.truename=a.truename,e.form.linkName=a.linkName,e.form.phone=a.phone,e.form.lockState=a.lockState,console.log(e.getdata)}).catch(function(e){console.log(e)})},methods:{beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||(this.loading=!1,this.$message.error("上传头像图片只能是 JPG 格式!")),a||(this.loading=!1,this.$message.error("上传头像图片大小不能超过 2MB!")),this.loading=!0,t&&a},handleAvatarSuccess:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.photoUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(console.log("====="),!e)throw new Error("参数错误")});var a={usersid:this.$route.query.usersid,photoUrl:this.form.photoUrl,truename:escape(this.form.truename),linkName:escape(this.form.linkName),phone:this.form.phone};this.$axios.post("/api/back/users/webSite",a).then(function(e){t.$message({showClose:!0,type:"success",message:"修改成功！"}),history.go(-1)}).catch(function(e){this.$message({showClose:!0,type:"error",message:"修改失败！"}),console.log(e)})},disableFn:function(){var e=this,t=[];0==this.form.lockState?(t[0]="禁用账号后，本账号的网址、医生账号、会员账号都不可继续使用！",t[1]="禁用成功！"):(t[0]="启用账号后，本账号的网址、医生账号、会员账号都可继续使用！",t[1]="启用成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/users",{usersid:e.$route.query.usersid}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消"})})},resetFn:function(){var e=this;this.$confirm("重置密码, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"重置成功!"})}).catch(function(){e.$message({type:"info",message:"已取消重置"})})}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/websitemm"}}},[e._v("网站账号管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("修改账号")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("公司logo:")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"公司名称：",prop:"truename",rules:[{required:!0,message:"请输入公司名称",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.truename,callback:function(t){e.$set(e.form,"truename",t)},expression:"form.truename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司联系人：",prop:"linkName",rules:[{required:!0,message:"请输入公司联系人",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.linkName,callback:function(t){e.$set(e.form,"linkName",t)},expression:"form.linkName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话：",prop:"phone",rules:[{required:!0,message:"请输入电话",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",[a("a",{attrs:{href:"javascript:void(0);"},on:{click:e.disableFn}},[e._v(e._s(0==e.form.lockState?"禁用账号":"启用账号"))])]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("保存修改")])],1)],1)],1)],1)},staticRenderFns:[]},A=a("VU/8")(E,q,!1,function(e){a("Z9WC")},null,null).exports,z={name:"new-account",data:function(){return{upimgUrl:this.$urlapi+"/back/users/image",imageUrl:"",loading:!1,form:{photoUrl:"",truename:"",linkName:"",username:"",phone:"",type:1}}},watch:{},mounted:function(){},methods:{beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||(this.$message.error("上传头像图片只能是 JPG 格式!"),this.loading=!1),a||(this.$message.error("上传头像图片大小不能超过 2MB!"),this.loading=!1),this.loading=!0,t&&a},handleAvatarSuccess:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.photoUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(console.log("====="),!e)throw new Error("参数错误")});var a={photoUrl:this.form.photoUrl,truename:escape(this.form.truename),linkName:escape(this.form.linkName),phone:this.form.phone,username:this.form.username,type:1};11==a.phone.length?this.$axios.post("/api/back/users/webSite",a).then(function(e){if(30012!==e.data.errcode)return 0===e.data.errcode?(t.$message({showClose:!0,type:"success",message:"创建成功！"}),history.go(-1)):void t.$message({showClose:!0,type:"error",message:"创建失败！"});t.$message({type:"error",message:"公司名重复或者网站后缀重复！！"})}).catch(function(e){t.$message({showClose:!0,type:"error",message:"创建失败！"}),console.log(e)}):this.$message({type:"error",message:"手机号码格式错误"})}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/websitemm"}}},[e._v("网站账号管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("新建账号")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("公司logo:")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.form.photoUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"公司名称：",prop:"truename",rules:[{required:!0,message:"请输入公司名称",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.truename,callback:function(t){e.$set(e.form,"truename",t)},expression:"form.truename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站后缀：",prop:"username",rules:[{required:!0,message:"请输入后缀",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司联系人：",prop:"linkName",rules:[{required:!0,message:"请输入公司联系人",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.linkName,callback:function(t){e.$set(e.form,"linkName",t)},expression:"form.linkName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话：",prop:"phone",rules:[{required:!0,message:"请输入电话号码",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("立即创建")])],1)],1)],1)],1)},staticRenderFns:[]},R=a("VU/8")(z,F,!1,function(e){a("mVvu")},null,null).exports,B={name:"",data:function(){return{name:"",placeholder:"",pageSize:1,total:1,currentPage:1,startview:!0,company_list:[]}},mounted:function(){1!=this.cookieFn.get("type")?this.getData():this.$router.push({path:"/roleam/roleamlist",query:{usersid:this.cookieFn.get("usersid")}})},methods:{getData:function(){var e=this;this.$axios.get("/api/back/users/webSite",{params:{name:this.name,currentPage:this.currentPage}}).then(function(t){console.log(t),e.company_list=[],e.pageSize=t.data.data.pageSize,e.total=t.data.data.total;t.data.data.list.forEach(function(t,a){e.company_list.push({registerDate:e.$timeonversionC(t.registerDate),truename:unescape(t.truename),usersid:t.usersid})})}).catch(function(e){console.log(e)})},onSubmit:function(){this.currentPage=1,this.getData()},getPage:function(e){console.log(e),this.currentPage=e,this.company_list=[],this.getData()}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m20"},[e.startview?[a("h4",[e._v("选择公司")]),e._v(" "),a("div",{staticClass:"searchBox"},[a("el-form",{staticClass:"demo-form-inline mt10",attrs:{inline:!0}},[a("el-form-item",{staticClass:"fr"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"fr",attrs:{label:"公司名称："}},[a("el-input",{attrs:{placeholder:e.placeholder},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"tableCss"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.company_list,height:"400",border:"",stripe:""}},[[a("el-table-column",{attrs:{align:"center",prop:"registerDate",label:"创建时间",width:"180"}})],e._v(" "),[a("el-table-column",{attrs:{align:"center",prop:"truename",label:"公司名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"db mt10 fsz14",attrs:{to:{path:"/roleam/roleamlist",query:{usersid:t.row.usersid}}}},[e._v(e._s(t.row.truename)+"\n              ")])]}}])})]],2)],1),e._v(" "),a("el-pagination",{staticStyle:{"padding-left":"0","margin-top":"10px"},attrs:{background:"",layout:"total, prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.getPage}})]:e.startview?[a("router-view")]:e._e()],2)},staticRenderFns:[]},V=a("VU/8")(B,O,!1,function(e){a("zOW6")},null,null).exports,W={name:"website-mccount-management",data:function(){return{total:0,pageSize:20,parentUsersId:this.$route.query.usersid,currentPage:1,truename:this.cookieFn.get("truename"),tableData:{listname:[{field:"truename",name:"姓名",width:"200"},{field:"username",name:"账号",width:"200"},{field:"password",name:"密码",width:"200"},{field:"lockState",name:"是否禁用"},{field:"registerDate",name:"添加时间",width:"90"}],data:[]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this,a={currentPage:this.currentPage,users:this.parentUsersId};this.$axios.get("/api/back/users/role",{params:a}).then(function(a){console.log(a);var s=a.data.data.list;s.forEach(function(e,a){s[a].registerDate=t.$timeonversionC(e.registerDate),s[a].truename=unescape(e.truename),s[a].lockState=0==e.lockState?"未禁用":"已禁用"}),e.tableData.data=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize)}).catch(function(e){console.log(e)})},getPage:function(e){this.webSitedata.currentPage=e,this.getData()},postModify:function(e){this.$router.push({path:"/roleam/reviseadministrator",query:{usersid:e.usersid,parentUsersId:this.parentUsersId}})},newAccount:function(){this.$router.push({path:"/roleam/newadministrator",query:{parentUsersId:this.parentUsersId}})},postDelete:function(e){var t=this;console.log(e.usersid),this.$confirm("确认删除角色账号？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/api/back/users/delete",{usersId:e.usersid}).then(function(e){t.$message({type:"success",message:"删除成功！"}),t.getData()}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消"})})}},components:{DataTable:N}},M={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"website-mccount-management m20"},[t("el-breadcrumb",{attrs:{separator:">"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/roleam"}}},[this._v("角色权限管理")]),this._v(" "),t("el-breadcrumb-item",[this._v("管理员列表")])],1),this._v(" "),t("div",{staticClass:"searchBox"},[t("el-form",{staticClass:"demo-form-inline mt10",attrs:{inline:!0}},[t("el-button",{staticClass:"fl ml10 mb18",attrs:{type:"primary"},on:{click:this.newAccount}},[this._v("新建账号")])],1)],1),this._v(" "),t("DataTable",{attrs:{dataTable:this.tableData},on:{modify:this.postModify,delete:this.postDelete}}),this._v(" "),t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:this.total},on:{"current-change":this.getPage}})],1)},staticRenderFns:[]},G=a("VU/8")(W,M,!1,function(e){a("Exnp")},null,null).exports,L={name:"new-account",data:function(){var e=this;return{powerdata:function(t){var a=[];return e.$axios.get("/api/back/purview").then(function(e){e.data.data.forEach(function(e,t){1===e.isleaf?(a.push({key:e.purviewid,label:e.purviewname,disabled:!0}),e.childPurview.forEach(function(e,t){a.push({key:e.purviewid,label:e.purviewname,disabled:!1})})):0===e.isleaf&&a.push({key:e.purviewid,label:e.purviewname,disabled:!1})})}).catch(function(e){console.log(e)}),console.log(a),a}(),purviewids:[],purviewidsstate:!1,powerTag:[],form:{parentUsersId:this.$route.query.parentUsersId,truename:"",username:"",type:2}}},watch:{},methods:{purviewidsAlert:function(){this.purviewidsstate=!this.purviewidsstate},preservationFn:function(){this.purviewidsAlert(),console.log("0");var e=this;this.powerdata.forEach(function(t,a){console.log(t),e.purviewids.forEach(function(a,s){console.log("2"),t.key===a&&e.powerTag.push(t.label)})}),console.log(this.powerTag)},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(console.log("====="),!e)throw new Error("参数错误")});var a={parentUsersId:this.form.parentUsersId,truename:escape(this.form.truename),username:this.form.username,purviewids:this.purviewids.join(","),type:2};this.$axios.post("/api/back/users/role",a).then(function(e){30012!==e.data.errcode?0===e.data.errcode?(t.$message({showClose:!0,type:"success",message:"创建成功！"}),history.go(-1)):t.$message({showClose:!0,type:"error",message:"创建失败！"}):t.$message({type:"error",message:"账号名重复！！"})}).catch(function(e){this.$message({showClose:!0,type:"error",message:"创建失败！"}),console.log(e)})}},mounted:function(){console.log("来了"),console.log(this.$route.query)}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 fsz14 por h100"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/roleam"}}},[e._v("角色权限管理")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/roleam/roleamlist",query:{usersid:e.form.parentUsersId}}}},[e._v("管理员列表")]),e._v(" "),a("el-breadcrumb-item",[e._v("新建管理员")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"姓名：",prop:"truename",rules:[{required:!0,message:"请输入姓名",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.truename,callback:function(t){e.$set(e.form,"truename",t)},expression:"form.truename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账号：",prop:"username",rules:[{required:!0,message:"请输入账号",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限："}},[a("div",[e._l(e.powerTag,function(t){return[a("el-tag",{staticClass:"mr10"},[e._v(e._s(t))])]})],2),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.purviewidsAlert}},[e._v("添加权限")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("立即创建")])],1)],1)],1),e._v(" "),[a("div",{directives:[{name:"show",rawName:"v-show",value:e.purviewidsstate,expression:"purviewidsstate"}],staticClass:"alert_box_transfer"},[a("h3",[e._v("权限设置：")]),e._v(" "),a("el-transfer",{attrs:{"button-texts":["删除","添加"],titles:["所有权限","选中权限"],data:e.powerdata},model:{value:e.purviewids,callback:function(t){e.purviewids=t},expression:"purviewids"}}),e._v(" "),a("el-button",{staticClass:"preservation_but",attrs:{type:"primary"},on:{click:e.preservationFn}},[e._v("保存")]),e._v(" "),a("el-button",{staticClass:"preservation_but mr20",on:{click:e.purviewidsAlert}},[e._v("关闭")])],1)]],2)},staticRenderFns:[]},H=a("VU/8")(L,j,!1,function(e){a("Upui")},null,null).exports,K={name:"new-account",data:function(){var e=this;return{powerdata:function(){var t=[];return e.$axios.get("/api/back/purview").then(function(e){e.data.data.forEach(function(e,a){1===e.isleaf?(t.push({key:e.purviewid,label:e.purviewname,disabled:!0}),e.childPurview.forEach(function(e,a){t.push({key:e.purviewid,label:e.purviewname,disabled:!1})})):0===e.isleaf&&t.push({key:e.purviewid,label:e.purviewname,disabled:!1})})}).catch(function(e){console.log(e)}),console.log(t),t}(),purviewids:[],purviewidsstate:!1,powerTag:[],truename:this.cookieFn.get("truename"),form:{parentUsersId:this.$route.query.parentUsersId,usersid:this.$route.query.usersid,truename:"",username:"",password:"",lockState:""}}},watch:{purviewids:function(e){console.log(e)}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;this.$axios.get("/api/back/users/"+this.form.usersid,{params:{usersid:this.form.usersid}}).then(function(t){console.log(t);var a=t.data.data;e.form.truename=decodeURIComponent(a.truename),e.form.username=a.username,e.form.lockState=a.lockState,e.form.password=a.password,e.powerShow()}).catch(function(e){console.log(e)}),this.$axios.get("/api/back/purview/"+this.form.usersid).then(function(t){console.log("权限"),console.log(t);t.data.data.forEach(function(t,a){e.purviewids.push(t.purviewid)}),e.powerShow()}).catch(function(e){console.log(e)})},purviewidsAlert:function(){this.purviewidsstate=!this.purviewidsstate},preservationFn:function(){this.purviewidsAlert(),this.powerShow()},powerShow:function(){var e=this;this.powerTag=[],this.powerdata.forEach(function(t,a){e.purviewids.forEach(function(a,s){t.key===a&&e.powerTag.push(t.label)})})},onSubmit:function(){var e=this,t={usersid:this.form.usersid,parentUsersId:this.form.parentUsersId,truename:escape(this.form.truename),username:this.form.username,password:this.form.password,type:2},a={purviewids:this.purviewids.join(","),usersid:this.form.usersid};this.$axios.post("/api/back/purview",b.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(a){0===a.data.errcode&&e.$axios.post("/api/back/users/role",t).then(function(t){console.log(t),e.$message({type:"success",message:"修改成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},disableFn:function(){var e=this,t=[];0==this.form.lockState?(t[0]="禁用账号后，本账号的网址、医生账号、会员账号都不可继续使用！",t[1]="禁用成功！"):(t[0]="启用账号后，本账号的网址、医生账号、会员账号都可继续使用！",t[1]="启用成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/users",{usersid:e.$route.query.usersid}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消禁用"})})},resetFn:function(){var e=this;this.$confirm("重置密码, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"重置成功!"})}).catch(function(){e.$message({type:"info",message:"已取消重置"})})}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 fsz14 por h100"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/roleam"}}},[e._v("角色权限管理")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/roleam/roleamlist",query:{usersid:e.form.parentUsersId}}}},[e._v("\n      管理员列表\n    ")]),e._v(" "),a("el-breadcrumb-item",[e._v("修改管理员")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{model:{value:e.form.truename,callback:function(t){e.$set(e.form,"truename",t)},expression:"form.truename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账号："}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码："}},[a("el-input",{model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限："}},[a("div",[e._l(e.powerTag,function(t){return[a("el-tag",{staticClass:"mr10"},[e._v(e._s(t))])]})],2)]),e._v(" "),a("el-form-item",[a("a",{attrs:{href:"javascript:void(0);"},on:{click:e.purviewidsAlert}},[e._v("修改权限")]),e._v(" "),a("a",{staticClass:"ml20",attrs:{href:"javascript:void(0);"},on:{click:e.disableFn}},[e._v(e._s(0==e.form.lockState?"禁用账号":"启用账号"))])]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存修改")])],1)],1)],1),e._v(" "),[a("div",{directives:[{name:"show",rawName:"v-show",value:e.purviewidsstate,expression:"purviewidsstate"}],staticClass:"alert_box_transfer"},[a("h3",[e._v("权限设置：")]),e._v(" "),a("el-transfer",{attrs:{"button-texts":["删除","添加"],titles:["所有权限","选中权限"],data:e.powerdata},model:{value:e.purviewids,callback:function(t){e.purviewids=t},expression:"purviewids"}}),e._v(" "),a("el-button",{staticClass:"preservation_but",attrs:{type:"primary"},on:{click:e.preservationFn}},[e._v("保存")]),e._v(" "),a("el-button",{staticClass:"preservation_but mr20",on:{click:e.purviewidsAlert}},[e._v("关闭")])],1)]],2)},staticRenderFns:[]},Y=a("VU/8")(K,J,!1,function(e){a("qhBF")},null,null).exports,Q={name:"forum_manage",data:function(){return{total:0,pageSize:0,webSitedata:{currentPage:1,customerName:""},tableData:{data:[]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.$axios.get("/api/back/questions",{params:this.webSitedata}).then(function(a){var s=a.data.data.list;console.log(s),s.forEach(function(e,a){s[a].creatDate=t.$timeonversionC(e.creatDate),s[a].truename=unescape(e.truename),s[a].linkName=unescape(e.linkName)}),e.tableData.data=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize),e.webSitedata.currentPage=a.data.data.pageNum}).catch(function(e){console.log(e)})},getPage:function(e){console.log(e),this.webSitedata.currentPage=e,this.getData()},onSubmit:function(){this.getData()},postOffline:function(e){var t=this;this.$confirm("下线后，健康管理网站将看不到本条提问？","提示",{confirmButtonText:"知道了",cancelButtonText:"暂不下线",type:"warning"}).then(function(){t.$axios.post("/api/back/questions",{questionId:e.questionId}).then(function(e){console.log(e),t.getData(),t.$message({type:"success",message:"下线成功!"})}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"取消下线"})})},goOnline:function(e){var t=this;this.$confirm("上线后，健康管理网站会展示本条提问。","提示",{confirmButtonText:"知道了",cancelButtonText:"暂不上线",type:"warning"}).then(function(){t.$axios.post("/api/back/questions",{questionId:e.questionId}).then(function(e){console.log(e),t.getData(),t.$message({type:"success",message:"上线成功!"})}).catch(function(e){this.$message.error("上线失败"),console.log(e)})}).catch(function(){t.$message({type:"info",message:"取消上线"})})},OnDelete:function(e){var t=this;this.$confirm("确定删除本条帖子？。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/api/back/questions",{questionId:e.questionId}).then(function(e){console.log(e),t.getData(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){this.$message.error("删除失败"),console.log(e)})}).catch(function(){t.$message({type:"info",message:"取消"})})},openText:function(e){this.$alert(e.content,e.title,{confirmButtonText:"确定"})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""}}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"forum_manage m20"},[a("el-form",{staticClass:"demo-form-inline searchBox",attrs:{inline:!0}},[a("el-form-item",{staticClass:"fr"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"fr"},[a("el-input",{attrs:{placeholder:"请输入发布人"},model:{value:e.webSitedata.customerName,callback:function(t){e.$set(e.webSitedata,"customerName",t)},expression:"webSitedata.customerName"}})],1)],1),e._v(" "),a("el-table",{staticClass:"mt30",staticStyle:{width:"100%"},attrs:{data:e.tableData.data,height:"400",border:"",stripe:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{align:"center",prop:"creatDate",label:"创建时间",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"customerName",label:"发布人"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.type?a("router-link",{attrs:{to:{path:"/regularmm/reviseregularmembermanagement",query:{customerId:t.row.customerId}}}},[e._v("\n            "+e._s(t.row.customerName)+"\n          ")]):e._e(),e._v(" "),1==t.row.type?a("router-link",{attrs:{to:{path:"/vipi/revisevipinformation",query:{customerId:t.row.customerId}}}},[e._v("\n            "+e._s(t.row.customerName)+"\n          ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"title",label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){e.openText(t.row)}}},[e._v(e._s(t.row.title))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"count",label:"评论条数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{path:"/forumm/comment",query:{questionId:t.row.questionId}}}},[e._v("\n            "+e._s(t.row.count)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"doctors",label:"回复的医生"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.doctors,function(t){return a("span",[0==t.type?a("router-link",{attrs:{to:{path:"/doctorm/revisedoctormanagement",query:{customerId:t.customerId}}}},[e._v("\n            "+e._s(t.customerName)+"，\n          ")]):e._e(),e._v(" "),1==t.type?a("router-link",{attrs:{to:{path:"/vipdm/revisedoctorinformmation",query:{customerId:t.customerId}}}},[e._v("\n            "+e._s(t.customerName)+"\n          ")]):e._e(),e._v(" "),a("span",[e._v("  |  ")])],1)})}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"isShow",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(0==t.row.isShow?"已上线":"已下线")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.isShow?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.goOnline(t.row)}}},[e._v("上线")]):e._e(),e._v(" "),0==t.row.isShow?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.OnDelete(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"mt20",attrs:{background:"",layout:"total, prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.getPage}})],1)},staticRenderFns:[]},Z=a("VU/8")(Q,X,!1,function(e){a("/wTR")},"data-v-2b22b357",null).exports,ee={name:"web_account",data:function(){return{alert_state:!1,imageUrl:"",form:{}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.$axios.get("/api/back/users/company/"+this.cookieFn.get("usersid")).then(function(a){var s=a.data.data;console.log(s),t.form=s,console.log(t.form),t.imageUrl=e.$api+"/images/"+e.form.photoUrl}).catch(function(e){console.log(e)})},onSubmit:function(){this.alert_state=!this.alert_state},determine:function(){this.onSubmit(),console.log(),this.$message({showClose:!0,type:"success",message:"修改成功！"})},cancel:function(){this.onSubmit()}}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"web_account m20 fsz14"},[a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("公司logo:")]),e._v(" "),e.form.photoUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):e._e()]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"公司名称："}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.truename,callback:function(t){e.$set(e.form,"truename",t)},expression:"form.truename"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司联系人："}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.linkName,callback:function(t){e.$set(e.form,"linkName",t)},expression:"form.linkName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话："}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网址："}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.weburl,callback:function(t){e.$set(e.form,"weburl",t)},expression:"form.weburl"}})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.alert_state,expression:"alert_state"}],staticClass:"alert_password"},[a("div",{staticClass:"el-message-box__wrapper",staticStyle:{"z-index":"2048"},attrs:{"aria-label":"提示"}},[a("div",{staticClass:"el-message-box"},[e._m(0),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"el-message-box__btns"},[a("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),a("button",{staticClass:"el-button el-button--default el-button--small el-button--primary ",attrs:{type:"button"},on:{click:e.determine}},[e._v("确定")])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"el-message-box__header"},[t("div",{staticClass:"el-message-box__title tac"},[t("span",[this._v("修改登录密码")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"el-message-box__content"},[t("div",{staticClass:"el-message-box__input"},[t("div",{staticClass:"el-input"},[t("input",{staticClass:"el-input__inner",attrs:{placeholder:"请输入原密码",type:"text"}})]),this._v(" "),t("div",{staticClass:"el-input"},[t("input",{staticClass:"el-input__inner mt10",attrs:{placeholder:"请输入新密码",type:"text"}})]),this._v(" "),t("div",{staticClass:"el-input"},[t("input",{staticClass:"el-input__inner mt10",attrs:{placeholder:"请输入新密码",type:"text"}})])])])}]},ae=a("VU/8")(ee,te,!1,function(e){a("q18r")},"data-v-2fbd916a",null).exports,se={name:"enterpris_announcement",data:function(){return{searchData:{path:"/enterprisa/newannouncement",name:"",placeholder:"输入公告名称",newname:"新建公告"},total:0,pageSize:0,webSitedata:{currentPage:1,categoryId:1,title:""},tableData:{data:[]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.tableData.data=[],this.$axios.get("/api/back/article",{params:this.webSitedata}).then(function(a){var s=a.data.data.list;s.forEach(function(e,a){s[a].updateTime=t.$timeonversionC(e.updateTime),s[a].truename=unescape(e.truename),s[a].linkName=unescape(e.linkName)}),e.tableData.data=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize),e.webSitedata.currentPage=a.data.data.pageNum}).catch(function(e){console.log(e)})},getPage:function(e){this.webSitedata.currentPage=e,this.getData()},onSubmit:function(e){this.webSitedata.title=e,this.getData()},postnline:function(e){var t=this,a={articleId:e.articleId};this.$axios.post("/api/back/article/pass",a).then(function(e){console.log(e),0==e.data.errcode?(t.getData(),t.$message({type:"success",message:"上线成功!"})):t.$message({type:"error",message:"上线失败!"})}).catch(function(e){console.log(e)})},postOffline:function(e){var t=this;this.$axios.post("/api/back/article/pass",{articleId:e.articleId}).then(function(e){console.log(e),0==e.data.errcode?(t.getData(),t.$message({type:"success",message:"下线成功!"})):t.$message({type:"error",message:"下线失败!"})}).catch(function(e){console.log(e)})},postDalete:function(e){var t=this;this.$confirm("确认删除企业公告？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/api/back/article/delete",{articleId:e.articleId}).then(function(e){t.$message({type:"success",message:"删除成功！"}),t.getData()}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},postModify:function(e){this.$router.push({path:"/enterprisa/reviseannouncement",query:{articleId:e.articleId}})},newAccount:function(){this.$router.push({path:"/enterprisa/newannouncement"})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""}},components:{Search:D}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"enterpris_announcement m20"},[a("Search",{attrs:{searchData:e.searchData},on:{response:e.onSubmit}}),e._v(" "),a("el-table",{staticClass:"mt30",staticStyle:{width:"100%"},attrs:{data:e.tableData.data,height:"400",border:"",stripe:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"创建时间",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"title",label:"公告名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.row.isPass,expression:"scope.row.isPass == 0"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){e.postnline(t.row)}}},[e._v("上线\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.row.isPass,expression:"scope.row.isPass == 1"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){e.postOffline(t.row)}}},[e._v("下线\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.row.isPass,expression:"scope.row.isPass == 0"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){e.postModify(t.row)}}},[e._v("修改\n        ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.row.isPass,expression:"scope.row.isPass == 0"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){e.postDalete(t.row)}}},[e._v("删除")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"modifyUser",label:"备注"}})],1),e._v(" "),a("el-pagination",{staticClass:"mt20",attrs:{background:"",layout:"total, prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.getPage}})],1)},staticRenderFns:[]},re=a("VU/8")(se,oe,!1,function(e){a("ijFt")},"data-v-60da942a",null).exports,ne={name:"enterpris_announcement",data:function(){return{text:"",total:0,pageSize:0,webSitedata:{currentPage:1,categoryId:2,title:""},tableData:{data:[]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.tableData.data=[],this.$axios.get("/api/back/article",{params:this.webSitedata}).then(function(a){var s=a.data.data.list;s.forEach(function(e,a){s[a].updateTime=t.$timeonversionC(e.updateTime),s[a].truename=unescape(e.truename),s[a].linkName=unescape(e.linkName),s[a].imgUrl=t.$api+"/images/"+e.imgUrl}),e.tableData.data=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize),e.webSitedata.currentPage=a.data.data.pageNum}).catch(function(e){console.log(e)})},getPage:function(e){console.log(e),this.webSitedata.currentPage=e,this.getData()},onSubmit:function(){this.getData()},postnline:function(e){var t=this,a={articleId:e.articleId};this.$axios.post("/api/back/article/pass",a).then(function(e){console.log(e),0==e.data.errcode?(t.getData(),t.$message({type:"success",message:"上线成功!"})):t.$message({type:"error",message:"下线失败!"})}).catch(function(e){console.log(e)})},postOffline:function(e){var t=this;this.$axios.post("/api/back/article/pass",{articleId:e.articleId}).then(function(e){console.log(e),0==e.data.errcode?(t.getData(),t.$message({type:"success",message:"下线成功!"})):t.$message({type:"error",message:"下线失败!"})}).catch(function(e){console.log(e)})},postDalete:function(e){var t=this;this.$confirm("确认删除专家讲堂？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/api/back/article/delete",{articleId:e.articleId}).then(function(e){t.$message({type:"success",message:"删除成功！"}),t.getData()}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},postRevise:function(e){this.$router.push({path:"/expertlh/reviseexpertlecturehall",query:{articleId:e.articleId}})},newAccount:function(){this.$router.push({path:"/expertlh/newexpertlecturehall"})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""}},components:{Search:D}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"enterpris_announcement m20"},[a("div",{staticClass:"searchBox"},[a("el-form",{staticClass:"demo-form-inline mt10",attrs:{inline:!0}},[a("el-button",{staticClass:"fl ml10",attrs:{type:"primary"},on:{click:e.newAccount}},[e._v("上传视频")]),e._v(" "),a("el-form-item",{staticClass:"fr"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"fr",attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.webSitedata.title,callback:function(t){e.$set(e.webSitedata,"title",t)},expression:"webSitedata.title"}})],1)],1)],1),e._v(" "),a("el-table",{staticClass:"mt30",staticStyle:{width:"100%"},attrs:{data:e.tableData.data,height:"400",border:"",stripe:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"创建时间",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"modifyUser",label:"创建人名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"title",label:"视频标题"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"图片",width:"160"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"100%",display:"block"},attrs:{src:e.row.imgUrl,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.row.isPass,expression:"scope.row.isPass == 0"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){e.postnline(t.row)}}},[e._v("上线")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.row.isPass,expression:"scope.row.isPass == 1"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){e.postOffline(t.row)}}},[e._v("下线")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.row.isPass,expression:"scope.row.isPass == 0"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){e.postRevise(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.row.isPass,expression:"scope.row.isPass == 0"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){e.postDalete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"mt20",attrs:{background:"",layout:"total, prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.getPage}})],1)},staticRenderFns:[]},le=a("VU/8")(ne,ie,!1,function(e){a("ZKof")},"data-v-42236013",null).exports,ce=a("aYpo"),me={name:"new-announcement",data:function(){return{editorOption:{},form:{truename:"",content:"",datatext:""}}},watch:{content:function(e){console.log(e)}},mounted:function(){},methods:{onSubmit:function(){var e=this,t={categoryId:1,title:this.form.truename,content:this.form.content,sortCode:1};t.title.length<=0?this.$message({type:"error",message:"标题不能为空"}):t.content.length<=0?this.$message({type:"error",message:"内容不能为空"}):this.$axios.post("/api/back/article",t).then(function(t){console.log(t),0===t.data.errcode&&(e.$message({showClose:!0,type:"success",message:"创建成功！"}),history.go(-1))}).catch(function(e){console.log(e)})}},components:{VueEditor:ce.VueEditor}},ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-announcement m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/enterprisa"}}},[e._v("企业公告")]),e._v(" "),a("el-breadcrumb-item",[e._v("新建公告")])],1),e._v(" "),a("div",{staticClass:"edit mt20"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"标题："}},[a("el-input",{model:{value:e.form.truename,callback:function(t){e.$set(e.form,"truename",t)},expression:"form.truename"}})],1)],1),e._v(" "),a("quill-editor",{ref:"myTextEditor",attrs:{config:e.editorOption},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),e._v(" "),a("el-form",{ref:"form",staticClass:"mt20"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")])],1)],1)],1)},staticRenderFns:[]},de=a("VU/8")(me,ue,!1,function(e){a("t9eN")},null,null).exports,pe={name:"new-expert-lecture-hall",data:function(){return{upimgUrl:this.$urlapi+"/back/article/image",editorOption:{},fileList:[],datatext:"",loading:!1,imageUrl:"",form:{title:"",content:"",outUrl:"",imgUrl:""}}},watch:{content:function(e){console.log(e)}},mounted:function(){},methods:{beforeAvatarUploadImg:function(e){console.log(e.type);var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||(this.loading=!1,this.$message.error("上传头像图片只能是 JPG 格式!")),a||(this.loading=!1,this.$message.error("上传头像图片大小不能超过 2MB!")),this.loading=!0,t&&a},handleAvatarSuccessImg:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.imgUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},beforeAvatarUpload:function(e,t){console.log(e)},handleAvatarSuccess:function(e,t){0==e.errcode&&(this.form.outUrl=e.data)},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},onSubmit:function(){var e=this;if(this.form.title.length<=0)this.$message({type:"error",message:"标题不能为空"});else if(this.form.imgUrl.length<=0)this.$message({type:"error",message:"图片不能为空"});else if(this.form.outUrl.length<=0)this.$message({type:"error",message:"视频不能为空"});else{var t={title:this.form.title,outUrl:this.form.outUrl,content:this.form.content,truename:this.cookieFn.get("truename"),imgUrl:this.form.imgUrl,categoryId:2,sortCode:1};this.$axios.post("/api/back/article",t).then(function(t){console.log(t),0===t.data.errcode&&(e.$message({showClose:!0,type:"success",message:"创建成功！"}),history.go(-1))}).catch(function(e){console.log(e)})}}},components:{VueEditor:ce.VueEditor}},he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-announcement m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/expertlh"}}},[e._v("专家讲堂")]),e._v(" "),a("el-breadcrumb-item",[e._v("上传视频")])],1),e._v(" "),a("div",{staticClass:"edit mt20"},[a("div",{staticClass:"edit mt20"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"标题："}},[a("el-input",{attrs:{placeholder:"请填写标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1)],1),e._v(" "),a("div",{staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"fl"},[e._v("上传图片：")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18 fl",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccessImg,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUploadImg}},[e.form.imgUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("span",{staticStyle:{color:"#cccccc"}},[e._v("（请上传图片）")])],1),e._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:e.upimgUrl,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,name:"imagePath",limit:1,"on-exceed":e.handleExceed,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传视频")]),e._v(" "),a("span",{staticStyle:{color:"#cccccc"}},[e._v("（请上传图片）")]),e._v(" "),a("span",{staticStyle:{color:"#F56C6C"}},[e._v("视频只支持MP4格式")])],1),e._v(" "),a("quill-editor",{ref:"myTextEditor",staticClass:"mt20",attrs:{config:e.editorOption},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),e._v(" "),a("el-form",{ref:"form",staticClass:"mt20"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")])],1)],1)],1)},staticRenderFns:[]},fe=a("VU/8")(pe,he,!1,function(e){a("p4gI")},null,null).exports,ge={name:"new-expert-lecture-hall",data:function(){return{upimgUrl:this.$urlapi+"/back/article/image",datatext:"",loading:!1,content:"",editorOption:{},fileList:[],imageUrl:"",form:{title:"",content:"",imgUrl:""}}},watch:{content:function(e){console.log(e)}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;console.log(this.$route.query.articleId),this.$axios.get("/api/back/article/"+this.$route.query.articleId).then(function(t){console.log(t);var a=t.data.data;e.form.title=a.title,e.form.content=a.content,e.imageUrl=e.$api+"/images/"+a.imgUrl,e.form.imgUrl=a.imgUrl,a.outUrl&&e.fileList.push({name:"视频文件",outUrl:a.outUrl})}).catch(function(e){console.log(e)})},beforeAvatarUploadImg:function(e){console.log(e.type);var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||(this.loading=!1,this.$message.error("上传头像图片只能是 JPG 格式!")),a||(this.loading=!1,this.$message.error("上传头像图片大小不能超过 2MB!")),this.loading=!0,t&&a},handleAvatarSuccessImg:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.imgUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},beforeAvatarUpload:function(e,t){console.log(e)},handleAvatarSuccess:function(e,t){0==e.errcode&&(this.form.outUrl=e.data)},handleRemove:function(e,t){this.form.outUrl="",console.log(e,t)},handlePreview:function(e){window.open(this.$api+"/images/"+e.outUrl),console.log(e.outUrl)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},onSubmit:function(){var e=this,t={articleId:this.$route.query.articleId,title:this.form.title,outUrl:this.form.outUrl,content:this.form.content,imgUrl:this.form.imgUrl,categoryId:2,sortCode:1};this.$axios.post("/api/back/article",t).then(function(t){0===t.data.errcode&&(e.$message({showClose:!0,type:"success",message:"登陆成功！"}),history.go(-1))}).catch(function(e){console.log(e)})}},components:{VueEditor:ce.VueEditor}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-announcement m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/expertlh"}}},[e._v("专家讲堂")]),e._v(" "),a("el-breadcrumb-item",[e._v("修改上传视频")])],1),e._v(" "),a("div",{staticClass:"edit mt20"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"标题："}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),e._v(" "),a("div",{staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"fl"},[e._v("上传图片：")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18 fl",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccessImg,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUploadImg}},[e.form.imgUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/back/article/video","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,name:"imagePath",limit:1,"on-exceed":e.handleExceed,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传视频")]),e._v(" "),a("span",{staticStyle:{color:"#F56C6C"}},[e._v("视频只支持MP4格式")])],1),e._v(" "),a("quill-editor",{ref:"myTextEditor",staticClass:"mt20",attrs:{config:e.editorOption},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),e._v(" "),a("el-form",{ref:"form",staticClass:"mt20"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存修改")])],1)],1)],1)},staticRenderFns:[]},be=a("VU/8")(ge,ve,!1,function(e){a("q4jZ")},null,null).exports,we={name:"comment",data:function(){return{total:"",pageSize:"",currentPage:"",dataForm:[]}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.$axios.get("/api/back/questions/answer",{params:{currentPage:1,questionId:this.$route.query.questionId}}).then(function(a){var s=a.data.data.answers.list;console.log(a),s.forEach(function(e,a){s[a].photoUrl=t.$api+e.photoUrl,s[a].ask=e.ask}),e.dataForm=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize),e.currentPage=a.data.data.pageNum}).catch(function(e){console.log(e)})},deleteask:function(e){var t=this;this.$axios.post("/api/back/questions",{questionId:e}).then(function(e){console.log(e),t.getData()}).catch(function(e){console.log(e)})},deleteans:function(e){var t=this;this.$axios.post("/api/back/questions",{answerId:e}).then(function(e){console.log(e),t.getData()}).catch(function(e){console.log(e)})}}},_e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"comment m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/forumm"}}},[e._v("论坛管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("评论列表")])],1),e._v(" "),a("ul",{staticClass:"list_ul"},e._l(e.dataForm,function(t){return a("li",{staticClass:"list_ul_li"},[a("el-row",[a("el-col",{attrs:{span:4}},[a("img",{attrs:{src:t.photoUrl,alt:""}})]),e._v(" "),a("el-col",{attrs:{span:20}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("h3",[e._v(e._s(t.doctorName)+"（回复）")]),e._v(" "),a("p",[e._v(e._s(t.content))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteans(t.answerId)}}},[e._v("删除")])],1)],1),e._v(" "),t.ask?a("el-row",{staticClass:"bak mt10"},[a("el-col",{attrs:{span:1}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:19}},[a("h4",[e._v(e._s(t.ask.customerName)+"（追问）")]),e._v(" "),a("p",[e._v(e._s(t.ask.content))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteask(t.ask.questionId)}}},[e._v("删除")])],1)],1):e._e(),e._v(" "),t.ask&&t.ask.ans?a("el-row",{staticClass:"bak"},[a("el-col",{attrs:{span:1}},[e._v(" ")]),e._v(" "),a("el-col",{attrs:{span:19}},[a("h4",[e._v(e._s(t.ask.ans.doctorName)+"（回复）")]),e._v(" "),a("p",[e._v(e._s(t.ask.ans.content))])]),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteans(t.ask.ans.answerId)}}},[e._v("删除")])],1)],1):e._e()],1)],1)],1)}))],1)},staticRenderFns:[]},ye=a("VU/8")(we,_e,!1,function(e){a("2aSK")},"data-v-e8ee95fc",null).exports,$e={name:"new-announcement",data:function(){return{editorOption:{},form:{title:"",content:"",datatext:""}}},watch:{content:function(e){console.log(e)}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;console.log(this.$route.query.articleId),this.$axios.get("/api/back/article/"+this.$route.query.articleId).then(function(t){console.log(t);var a=t.data.data;e.form.title=a.title,e.form.content=a.content}).catch(function(e){console.log(e)})},onSubmit:function(){var e=this,t={articleId:this.$route.query.articleId,title:this.form.title,content:this.form.content,sortCode:1};this.$axios.post("/api/back/article",t).then(function(t){console.log(t),e.$message({type:"success",message:"修改成功!"}),history.go(-1)}).catch(function(e){console.log(e)})}},components:{VueEditor:ce.VueEditor}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-announcement m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/enterprisa"}}},[e._v("企业公告")]),e._v(" "),a("el-breadcrumb-item",[e._v("修改公告")])],1),e._v(" "),a("div",{staticClass:"edit mt20"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"标题："}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),e._v(" "),a("quill-editor",{ref:"myTextEditor",attrs:{config:e.editorOption},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),e._v(" "),a("el-form",{ref:"form",staticClass:"mt20"},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存修改")])],1)],1)],1)},staticRenderFns:[]},ke=a("VU/8")($e,xe,!1,function(e){a("J9XL")},null,null).exports,Se={name:"dataTableImg",props:{dataTable:{type:Object,required:!0}},data:function(){return{}},methods:{tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},postModify:function(e){console.log(e),this.$emit("modify",e)},untiePhone:function(e){var t=this;this.$axios.post("/api/back/unbundling",{customerId:e.customerId}).then(function(e){console.log(e),0==e.data.errcode&&t.$message({showClose:!0,type:"success",message:"解绑成功！"})}).catch(function(e){console.log(e)})},postDelete:function(e){this.$emit("delete",e)},seeHealthy:function(e){this.$emit("healthy",e)}}},De={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableCss"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataTable.data,height:"400",border:"",stripe:"","row-class-name":e.tableRowClassName}},[e._l(e.dataTable.listname,function(t){return["photoUrl"!=t.field?a("el-table-column",{attrs:{align:"center",prop:t.field,label:t.name,width:t.width?t.width:"auto"}}):e._e(),e._v(" "),"photoUrl"==t.field?a("el-table-column",{attrs:{align:"center",prop:t.field,label:t.name,width:t.width?t.width:"auto"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"photoUrl_img",attrs:{src:e.row.photoUrl,alt:""}})]}}])}):e._e()]}),e._v(" "),e.dataTable.soleCode?a("el-table-column",{attrs:{align:"center",label:"绑定手机唯一码",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.soleCode?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.untiePhone(t.row)}}},[e._v("解绑手机")]):e._e(),e._v(" "),t.row.soleCode?e._e():a("span",[e._v("未绑定")])]}}])}):e._e(),e._v(" "),e.dataTable.healthy?a("el-table-column",{attrs:{align:"center",label:"健康记录"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.seeHealthy(t.row)}}},[e._v("查看")])]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"",label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.postModify(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.postDelete(t.row)}}},[e._v("删除")])]}}])})],2)],1)},staticRenderFns:[]},Ce=a("VU/8")(Se,De,!1,function(e){a("T4I2")},"data-v-356012aa",null).exports,Ue={name:"vip-coctor-management",data:function(){return{searchData:{path:"/vipdm/newdoctorinformation",url:"",placeholder:"输入姓名"},total:0,pageSize:0,webSitedata:{currentPage:1,customer:""},tableData:{listname:[{field:"creatDate",name:"创建时间",width:"100"},{field:"photoUrl",name:"头像",width:"100"},{field:"customerName",name:"姓名"},{field:"price",name:"诊疗价格"},{field:"phone",name:"手机号"},{field:"hospital",name:"医院"},{field:"department",name:"科室"},{field:"title",name:"职称"},{field:"loginName",name:"账号"},{field:"customer",name:"会员"},{field:"status",name:"是否禁用"}],data:[]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.$axios.get("/api/back/doctor/vip",{params:this.webSitedata}).then(function(a){var s=a.data.data.list;s.forEach(function(e,a){s[a].customerName=unescape(e.customerName),s[a].creatDate=t.$timeonversionC(e.creatDate),s[a].hospital=unescape(e.hospital),s[a].department=unescape(e.department),s[a].title=unescape(e.title),s[a].status=0==e.status?"未禁用":"禁用",s[a].photoUrl=t.$api+"/images/"+e.photoUrl}),e.tableData.data=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize),e.webSitedata.currentPage=a.data.data.pageNum}).catch(function(e){console.log(e)})},onSubmit:function(e){this.webSitedata.customer=e,this.getData()},getPage:function(e){this.webSitedata.currentPage=e,this.getData()},postModify:function(e){console.log(e),this.$router.push({path:"/vipdm/revisedoctorinformmation",query:{customerId:e.customerId}})},postDelete:function(e){var t=this;console.log(e.usersid),this.$confirm("确认删除VIP医生账号？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/api/back/customer/delete",{customerId:e.customerId}).then(function(e){t.$message({type:"success",message:"删除成功！"}),t.getData()}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消"})})}},components:{Search:D,DataTable:Ce}},Ne={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"website-mccount-management"},[t("Search",{attrs:{searchData:this.searchData},on:{response:this.onSubmit}}),this._v(" "),t("DataTable",{attrs:{dataTable:this.tableData},on:{modify:this.postModify,delete:this.postDelete}}),this._v(" "),t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","page-size":this.pageSize,total:this.total},on:{"current-change":this.getPage}})],1)},staticRenderFns:[]},Ie=a("VU/8")(Ue,Ne,!1,function(e){a("X3WR")},null,null).exports,Te={name:"new-vip-coctor-management",data:function(){var e=this;return{upimgUrl:this.$urlapi+"/back/customers/image",imageUrl:"",loading:!1,form:{photoUrl:"",customerName:"",phone:"",hospital:"",department:"",title:"",price:"",customersId:"",type:1},memberdata:function(){var t=[];return e.$axios.get("/api/back/doctors/customers").then(function(e){e.data.data.forEach(function(e,a){t.push({key:e.customerId,label:e.customerName})})}).catch(function(e){console.log(e)}),console.log(t),t}(),memberids:[],memberidsstate:!1,memberTag:[]}},watch:{},methods:{handleAvatarSuccess:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.photoUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||(this.$message.error("上传头像图片只能是 JPG 格式!"),this.loading=!1),a||(this.$message.error("上传头像图片大小不能超过 2MB!"),this.loading=!1),this.loading=!0,t&&a},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},purviewidsAlert:function(){this.memberidsstate=!this.memberidsstate},preservationFn:function(){this.purviewidsAlert(),this.powerShow()},powerShow:function(){var e=this;this.memberTag=[],this.memberdata.forEach(function(t,a){e.memberids.forEach(function(a,s){t.key===a&&e.memberTag.push(t.label)})})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)throw new Error("参数错误")});var a={photoUrl:this.form.photoUrl,customerName:this.form.customerName,phone:this.form.phone,hospital:this.form.hospital,department:this.form.department,title:this.form.title,price:this.form.price,customersId:"",type:this.form.type};11==a.phone.length?this.$axios.post("/api/back/doctors",a).then(function(e){30012!=e.data.errcode?0==e.data.errcode&&(t.$message({showClose:!0,type:"success",message:"新建成功！"}),history.go(-1)):t.$message({showClose:!0,type:"error",message:"手机号重复，请重新填写！"})}).catch(function(e){console.log(e)}):this.$message({type:"error",message:"手机号码格式错误"})}},mounted:function(){}},Pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 por fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/vipdm"}}},[e._v("VIP医生管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("新建VIP医生信息")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("照片:")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"医院名称：",prop:"hospital",rules:[{required:!0,message:"请输入医院名称",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.hospital,callback:function(t){e.$set(e.form,"hospital",t)},expression:"form.hospital"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"科室：",prop:"department",rules:[{required:!0,message:"请输入科室",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职称：",prop:"title",rules:[{required:!0,message:"请输入职称",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名：",prop:"customerName",rules:[{required:!0,message:"请输入姓名",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号：",prop:"phone",rules:[{required:!0,message:"请输入手机号",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"我的会员："}},[a("div",[e._l(e.memberTag,function(t){return[a("el-tag",{staticClass:"mr10"},[e._v(e._s(t))])]})],2)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.purviewidsAlert}},[e._v("添加会员")])],1),e._v(" "),a("el-form-item",{attrs:{label:"诊疗费用：",prop:"price",rules:[{required:!0,message:"请输入诊疗费用",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("立即创建")])],1)],1)],1),e._v(" "),[a("div",{directives:[{name:"show",rawName:"v-show",value:e.memberidsstate,expression:"memberidsstate"}],staticClass:"alert_box_transfer"},[a("h3",[e._v("添加会员：")]),e._v(" "),a("el-transfer",{attrs:{"button-texts":["删除","添加"],titles:["未分配会员","选中会员"],data:e.memberdata},model:{value:e.memberids,callback:function(t){e.memberids=t},expression:"memberids"}}),e._v(" "),a("el-button",{staticClass:"preservation_but",attrs:{type:"primary"},on:{click:e.preservationFn}},[e._v("保存")]),e._v(" "),a("el-button",{staticClass:"preservation_but mr20",on:{click:e.purviewidsAlert}},[e._v("关闭")])],1)]],2)},staticRenderFns:[]},Ee=a("VU/8")(Te,Pe,!1,function(e){a("Y5t8")},null,null).exports,qe={name:"revise-vip-coctor-management",data:function(){var e=this;return{upimgUrl:this.$urlapi+"/back/customers/image",imageUrl:"",loading:!1,form:{photoUrl:"",customerName:"",phone:"",hospital:"",department:"",title:"",price:"",customersId:"",passWord:"",type:1},status:"",guest:"",memberdata:function(){var t=[];return e.$axios.get("/api/back/doctors/customers").then(function(e){console.log(e),e.data.data.forEach(function(e,a){t.push({key:e.customerId,label:e.customerName})})}).catch(function(e){console.log(e)}),console.log(t),t}(),memberids:[],memberidsstate:!1,memberTag:[]}},watch:{},methods:{getData:function(){var e=this;this.$axios.get("/api/back/customers/"+this.$route.query.customerId).then(function(t){var a=t.data.data;e.imageUrl=e.$api+"/images/"+a.photoUrl,e.form={photoUrl:a.photoUrl,customerName:unescape(a.customerName),phone:a.phone,hospital:unescape(a.hospital),department:unescape(a.department),title:unescape(a.title),passWord:a.passWord,price:a.price,customersId:a.customersId,reply:a.reply?a.reply:0},e.status=a.status,e.guest=a.guest}).catch(function(e){console.log(e)});var t=this;this.$axios.get("/api/back/doctors/customers?customerId="+this.$route.query.customerId).then(function(e){e.data.data.forEach(function(e,a){t.memberids.push(e.customerId),t.memberTag.push(e.customerName),t.memberdata.push({key:e.customerId,label:e.customerName})})}).catch(function(e){console.log(e)})},handleAvatarSuccess:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.photoUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return console.log(e),t||(this.loading=!1,this.$message.error("上传头像图片只能是 JPG 格式!")),a||(this.loading=!1,this.$message.error("上传头像图片大小不能超过 2MB!")),this.loading=!0,t&&a},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},purviewidsAlert:function(){this.memberidsstate=!this.memberidsstate},preservationFn:function(){this.purviewidsAlert(),this.powerShow()},powerShow:function(){var e=this;this.memberTag=[],this.memberdata.forEach(function(t,a){e.memberids.forEach(function(a,s){t.key===a&&e.memberTag.push(t.label)})})},disableFn:function(){var e=this,t=[];0==this.status?(t[0]="禁用账号后此账号都不可继续使用！",t[1]="成功！"):(t[0]="启用账号此账号都可正常使用！",t[1]="成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customers/lock",{customerId:e.$route.query.customerId}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消禁用"})})},setReset:function(){var e=this;this.$confirm("确认是否要重置密码？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/reset",{customerId:e.$route.query.customerId}).then(function(t){console.log(t),e.$message({type:"success",message:"重置成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消重置"})})},setGuest:function(){var e=this,t="";t=0==this.guest?"确认设置特邀医生？":"确认取消为特邀医生？",this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/doctor/guest",{customerId:e.$route.query.customerId}).then(function(t){console.log(t),e.$message({type:"success",message:"成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消"})})},upgrade:function(){var e=this;this.$confirm("降级为普通医生？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customers/vip",{customerId:e.$route.query.customerId}).then(function(t){console.log(t),e.$message({type:"success",message:"降级成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消降级"})})},prohibitReply:function(){var e=this,t=[];0==this.form.lockState?(t[0]="确认禁止回复论坛?",t[1]="禁用成功！"):(t[0]="确认启用回复论坛！",t[1]="启用成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customer/reply",{customerId:e.$route.query.customerId}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消禁用"})})},onSubmit:function(){var e=this,t={customerId:Number(this.$route.query.customerId),photoUrl:this.form.photoUrl,customerName:this.form.customerName,phone:this.form.phone,hospital:this.form.hospital,department:this.form.department,title:this.form.title,price:this.form.price,passWord:this.form.passWord,customersId:""};this.memberids.length>0&&(t.customersId=this.memberids.join(",")),t.phone.length<1?this.$alert("请完善信息！！！","提示",{confirmButtonText:"确定"}):this.$axios.post("/api/back/doctors",t).then(function(t){console.log(t),0===t.data.errcode&&(e.$message({type:"success",message:"修改成功"}),history.go(-1))}).catch(function(e){console.log(e)})}},mounted:function(){this.getData()}},Ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 por fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/vipdm"}}},[e._v("VIP医生管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("修改VIP医生信息")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("照片:")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"医院名称："}},[a("el-input",{model:{value:e.form.hospital,callback:function(t){e.$set(e.form,"hospital",t)},expression:"form.hospital"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"科室："}},[a("el-input",{model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职称："}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码："}},[a("el-input",{model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"我的会员："}},[a("div",[e._l(e.memberTag,function(t){return[a("el-tag",{staticClass:"mr10"},[e._v(e._s(t))])]})],2)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.purviewidsAlert}},[e._v("添加会员")])],1),e._v(" "),a("el-form-item",{attrs:{label:"诊疗费用："}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:""},on:{click:e.setGuest}},[e._v(e._s(1==e.guest?"取消特邀":"设为特邀"))]),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:e.disableFn}},[e._v(e._s(0==e.status?"禁用账号":"启用账号"))]),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:e.upgrade}},[e._v("降级为普通医生")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:""},on:{click:e.prohibitReply}},[e._v(e._s(1==e.form.reply?"开启回复论坛":"禁止回复论坛"))])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存修改")])],1)],1)],1),e._v(" "),[a("div",{directives:[{name:"show",rawName:"v-show",value:e.memberidsstate,expression:"memberidsstate"}],staticClass:"alert_box_transfer"},[a("h3",[e._v("添加会员：")]),e._v(" "),a("el-transfer",{attrs:{"button-texts":["删除","添加"],titles:["未分配会员","选中会员"],data:e.memberdata},model:{value:e.memberids,callback:function(t){e.memberids=t},expression:"memberids"}}),e._v(" "),a("el-button",{staticClass:"preservation_but",attrs:{type:"primary"},on:{click:e.preservationFn}},[e._v("保存")]),e._v(" "),a("el-button",{staticClass:"preservation_but mr20",on:{click:e.purviewidsAlert}},[e._v("关闭")])],1)]],2)},staticRenderFns:[]},ze=a("VU/8")(qe,Ae,!1,function(e){a("Qjkz")},null,null).exports,Fe={name:"doctor-management",data:function(){return{searchData:{path:"/doctorm/newdoctormanagement",url:"",placeholder:"输入姓名"},total:0,pageSize:0,webSitedata:{currentPage:1,customer:""},tableData:{listname:[{field:"creatDate",name:"创建时间",width:"100"},{field:"photoUrl",name:"头像",width:"100"},{field:"customerName",name:"姓名"},{field:"phone",name:"手机号"},{field:"hospital",name:"医院"},{field:"department",name:"科室"},{field:"title",name:"职称"},{field:"loginName",name:"账号"},{field:"status",name:"是否禁用"}],data:[]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.$axios.get("/api/back/doctor",{params:this.webSitedata}).then(function(a){var s=a.data.data.list;s.forEach(function(e,a){s[a].customerName=unescape(e.customerName),s[a].creatDate=t.$timeonversionC(e.creatDate),s[a].hospital=unescape(e.hospital),s[a].department=unescape(e.department),s[a].title=unescape(e.title),s[a].status=0==e.status?"未禁用":"禁用",s[a].photoUrl=t.$api+"/images/"+e.photoUrl}),e.tableData.data=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize),e.webSitedata.currentPage=a.data.data.pageNum}).catch(function(e){console.log(e)})},onSubmit:function(e){this.webSitedata.customer=e,this.getData()},getPage:function(e){this.webSitedata.currentPage=e,this.getData()},postDelete:function(e){var t=this;console.log(e.usersid),this.$confirm("确认删除医生账号？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/api/back/customer/delete",{customerId:e.customerId}).then(function(e){t.$message({type:"success",message:"删除成功！"}),t.getData()}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},postModify:function(e){console.log(e.customerId),this.$router.push({path:"/doctorm/revisedoctormanagement",query:{customerId:e.customerId}})}},components:{Search:D,DataTable:Ce}},Re={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"website-mccount-management"},[t("Search",{attrs:{searchData:this.searchData},on:{response:this.onSubmit}}),this._v(" "),t("DataTable",{attrs:{dataTable:this.tableData},on:{modify:this.postModify,delete:this.postDelete}}),this._v(" "),t("img",{attrs:{src:"",alt:""}}),this._v(" "),t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","page-size":this.pageSize,total:this.total},on:{"current-change":this.getPage}})],1)},staticRenderFns:[]},Be=a("VU/8")(Fe,Re,!1,function(e){a("R5gF")},null,null).exports,Oe={name:"revise-doctor-management",data:function(){return{upimgUrl:this.$urlapi+"/back/customers/image",imageUrl:this.$api+"/images/"+this.photoUrl,loading:!1,form:{},status:null,guest:null}},watch:{},mounted:function(){console.log("000"),this.getData()},methods:{getData:function(){var e=this;this.$axios.get("/api/back/customers/"+this.$route.query.customerId).then(function(t){console.log(t);var a=t.data.data;e.imageUrl=e.$api+"/images/"+a.photoUrl,e.form={customerId:a.customerId,photoUrl:a.photoUrl,customerName:a.customerName,phone:a.phone,hospital:a.hospital,department:a.department,title:a.title,passWord:a.passWord,reply:a.reply?a.reply:0},e.status=a.status,e.guest=a.guest}).catch(function(e){console.log(e)})},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return console.log(e),t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),this.loading=!0,t&&a},handleAvatarSuccess:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.photoUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},setGuest:function(){var e=this,t="";t=0==this.guest?"确认设置特邀医生？":"确认取消为特邀医生？",this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/doctor/guest",{customerId:e.$route.query.customerId}).then(function(t){console.log(t),e.$message({type:"success",message:"成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消"})})},disableFn:function(){var e=this,t=[];0==this.status?(t[0]="禁用账号后此账号都不可继续使用！",t[1]="成功！"):(t[0]="启用账号此账号都可正常使用！",t[1]="成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customers/lock",{customerId:e.$route.query.customerId}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消"})})},setReset:function(){var e=this;this.$confirm("确认是否要重置密码？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/reset",{customerId:e.$route.query.customerId}).then(function(t){console.log(t),e.$message({type:"success",message:"重置成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消重置"})})},upgrade:function(){var e=this;this.$confirm("确认升级为VIP医生？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customers/vip",{customerId:e.$route.query.customerId}).then(function(t){console.log(t),e.$message({type:"success",message:"升级成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消升级"})})},prohibitReply:function(){var e=this,t=[];0==this.form.lockState?(t[0]="确认禁止回复论坛?",t[1]="禁用成功！"):(t[0]="确认启用回复论坛！",t[1]="启用成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customer/reply",{customerId:e.$route.query.customerId}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消禁用"})})},onSubmit:function(){var e=this,t={customerId:this.form.customerId,photoUrl:this.form.photoUrl,customerName:this.form.customerName,phone:this.form.phone,hospital:this.form.hospital,department:this.form.department,title:this.form.title,passWord:this.form.passWord,price:0};t.phone.length<1?this.$alert("请完善信息！！！","提示",{confirmButtonText:"确定"}):this.$axios.post("/api/back/doctors",t).then(function(t){console.log(t),0===t.data.errcode&&(e.$message({type:"success",message:"修改成功"}),history.go(-1))}).catch(function(e){console.log(e)})}}},Ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/doctorm"}}},[e._v("医生管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("修改医生信息")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("照片:")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"医院名称："}},[a("el-input",{model:{value:e.form.hospital,callback:function(t){e.$set(e.form,"hospital",t)},expression:"form.hospital"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"科室："}},[a("el-input",{model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职称："}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码："}},[a("el-input",{model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:""},on:{click:e.setGuest}},[e._v(e._s(1==e.guest?"取消特邀":"设为特邀"))]),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:e.disableFn}},[e._v(e._s(0==e.status?"禁用账号":"启用账号"))]),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:e.upgrade}},[e._v("升级为VIP医生")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:""},on:{click:e.prohibitReply}},[e._v(e._s(1==e.form.reply?"开启回复论坛":"禁止回复论坛"))])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存修改")])],1)],1)],1)],1)},staticRenderFns:[]},We=a("VU/8")(Oe,Ve,!1,function(e){a("KeQ3")},null,null).exports,Me={name:"new-doctor-management",data:function(){return{upimgUrl:this.$urlapi+"/back/customers/image",imageUrl:"",loading:!1,form:{photoUrl:"",customerName:"",phone:"",hospital:"",department:"",title:"",type:0}}},watch:{},methods:{handleAvatarSuccess:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.photoUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return console.log(e),t||(this.loading=!1,this.$message.error("上传头像图片只能是 JPG 格式!")),a||(this.loading=!1,this.$message.error("上传头像图片大小不能超过 2MB!")),this.loading=!0,t&&a},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(console.log("====="),!e)throw new Error("参数错误")});var a={photoUrl:this.form.photoUrl,customerName:escape(this.form.customerName),phone:this.form.phone,hospital:escape(this.form.hospital),department:escape(this.form.department),title:escape(this.form.title),price:"0",customersId:"",type:this.form.type};11==a.phone.length?this.$axios.post("/api/back/doctors",a).then(function(e){console.log(e),30012!=e.data.errcode?0===e.data.errcode&&(t.$message({type:"success",message:"新建成功"}),history.go(-1)):t.$message({showClose:!0,type:"error",message:"手机号重复，请重新填写！"})}).catch(function(e){console.log(e)}):this.$message({type:"error",message:"手机号码格式错误"})}},mounted:function(){}},Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/coctorm"}}},[e._v("医生管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("新建医生信息")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("照片:")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"医院名称：",prop:"hospital",rules:[{required:!0,message:"请输入医院名称",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.hospital,callback:function(t){e.$set(e.form,"hospital",t)},expression:"form.hospital"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"科室：",prop:"department",rules:[{required:!0,message:"请输入科室名称",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.department,callback:function(t){e.$set(e.form,"department",t)},expression:"form.department"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职称：",prop:"title",rules:[{required:!0,message:"请输入职称",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名：",prop:"customerName",rules:[{required:!0,message:"请输入姓名",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号：",prop:"phone",rules:[{required:!0,message:"请输入手机号",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("立即创建")])],1)],1)],1)],1)},staticRenderFns:[]},Le=a("VU/8")(Me,Ge,!1,function(e){a("WWxU")},null,null).exports,je={name:"vip-information",data:function(){return{searchData:{path:"/vipi/newvipinformation",name:"",placeholder:"输入姓名"},total:0,pageSize:0,webSitedata:{currentPage:1,customer:""},tableData:{listname:[{field:"creatDate",name:"创建时间",width:"100"},{field:"photoUrl",name:"头像",width:"100"},{field:"customerName",name:"姓名"},{field:"phone",name:"手机号"},{field:"loginName",name:"账号"},{field:"status",name:"状态"}],soleCode:!0,healthy:!0,data:[]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.$axios.get("/api/back/customers/vip",{params:this.webSitedata}).then(function(a){var s=a.data.data.list;s.forEach(function(e,a){s[a].customerName=unescape(e.customerName),s[a].creatDate=t.$timeonversionC(e.creatDate),s[a].status=0==e.status?"未禁用":"禁用",s[a].photoUrl=t.$api+"/images/"+e.photoUrl}),e.tableData.data=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize),e.webSitedata.currentPage=a.data.data.pageNum}).catch(function(e){console.log(e)})},onSubmit:function(e){this.webSitedata.customer=e,this.getData()},getPage:function(e){console.log(e),this.webSitedata.currentPage=e,this.getData()},postModify:function(e){this.$router.push({path:"/vipi/revisevipinformation",query:{customerId:e.customerId}})},postDelete:function(e){var t=this;console.log(e.usersid),this.$confirm("确认删除VIP账号？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/api/back/customer/delete",{customerId:e.customerId}).then(function(e){t.$message({type:"success",message:"删除成功！"}),t.getData()}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},seeHealthy:function(e){this.$router.push({path:"/healthr",query:{companyId:e.companyId,customerName:e.customerName}})}},components:{Search:D,DataTable:Ce}},He={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vip-information"},[t("Search",{attrs:{searchData:this.searchData},on:{response:this.onSubmit}}),this._v(" "),t("DataTable",{attrs:{dataTable:this.tableData},on:{modify:this.postModify,healthy:this.seeHealthy,delete:this.postDelete}}),this._v(" "),t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","page-size":this.pageSize,total:this.total},on:{"current-change":this.getPage}})],1)},staticRenderFns:[]},Ke=a("VU/8")(je,He,!1,function(e){a("sudI")},null,null).exports,Je={name:"new-viprmm",data:function(){return{upimgUrl:this.$urlapi+"/back/customers/image",imageUrl:"",options:[{value:"男",label:"男"},{value:"女",label:"女"}],loading:!1,form:{photoUrl:"",customerName:"",phone:"",cardNo:"",sex:"",type:1}}},watch:{},methods:{handleAvatarSuccess:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.photoUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||(this.loading=!1,this.$message.error("上传头像图片只能是 JPG 格式!")),a||(this.loading=!1,this.$message.error("上传头像图片大小不能超过 2MB!")),this.loading=!0,t&&a},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)throw new Error("参数错误")});var a={photoUrl:this.form.photoUrl,customerName:this.form.customerName,phone:this.form.phone,cardNo:this.form.cardNo,sex:this.form.sex,type:1};11==a.phone.length?this.$axios.post("/api/back/customers",a).then(function(e){30012!=e.data.errcode?0==e.data.errcode&&(t.$message({showClose:!0,type:"success",message:"新建成功！"}),history.go(-1)):t.$message({showClose:!0,type:"error",message:"手机号重复，请重新填写！"})}).catch(function(e){console.log(e)}):this.$message({type:"error",message:"手机号码格式错误"})}},mounted:function(){}},Ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/vipi"}}},[e._v("VIP会员管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("新建VIP会员信息")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("照片:")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"姓名：",prop:"customerName",rules:[{required:!0,message:"请输入姓名",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别：",prop:"sex",rules:[{required:!0,message:"请输入性别",trigger:"blur"}]}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号：",prop:"phone",rules:[{required:!0,message:"请输入手机号",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备编号：",prop:"cardNo",rules:[{required:!0,message:"请输入设备编号",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.cardNo,callback:function(t){e.$set(e.form,"cardNo",t)},expression:"form.cardNo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("立即创建")])],1)],1)],1)],1)},staticRenderFns:[]},Qe=a("VU/8")(Je,Ye,!1,function(e){a("BvZi")},null,null).exports,Xe={name:"revise-viprmm",data:function(){return{options:[{value:"男",label:"男"},{value:"女",label:"女"}],upimgUrl:this.$urlapi+"/back/customers/image",imageUrl:"",loading:!1,form:{customerId:this.$route.query.customerId,photoUrl:"",customerName:"",phone:"",cardNo:"",sex:"",status:"",type:1}}},watch:{},mounted:function(){this.getData()},methods:{getData:function(){var e=this;this.$axios.get("/api/back/customers/"+this.$route.query.customerId).then(function(t){console.log(t);var a=t.data.data;e.imageUrl=e.$api+"/images/"+a.photoUrl,e.form.photoUrl=a.photoUrl,e.form.customerName=decodeURIComponent(a.customerName),e.form.phone=a.phone,e.form.cardNo=a.cardNo,e.form.status=a.status,e.form.passWord=a.passWord,e.form.sex=a.sex,e.form.reply=a.reply?a.reply:0,e.form.release=a.release?a.release:0}).catch(function(e){console.log(e)})},handleAvatarSuccess:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.photoUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return console.log(e),t||(this.loading=!1,this.$message.error("上传头像图片只能是 JPG 格式!")),a||(this.loading=!1,this.$message.error("上传头像图片大小不能超过 2MB!")),this.loading=!0,t&&a},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},disableFn:function(){var e=this,t=[];0==this.form.lockState?(t[0]="禁用账号后此账号都不可继续使用！",t[1]="成功！"):(t[0]="启用账号此账号都可正常使用！",t[1]="成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customers/lock",{customerId:e.$route.query.customerId}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消禁用"})})},setReset:function(){var e=this;this.$confirm("确认是否要重置密码？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/reset",{customerId:e.$route.query.customerId}).then(function(t){console.log(t),e.$message({type:"success",message:"重置成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消重置"})})},upgrade:function(){var e=this;this.$confirm("降级为普通会员？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customers/vip",{customerId:e.$route.query.customerId}).then(function(t){console.log(t),e.$message({type:"success",message:"降级成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消降级"})})},prohibitReply:function(){var e=this,t=[];0==this.form.lockState?(t[0]="确认禁止回复论坛?",t[1]="禁用成功！"):(t[0]="确认启用回复论坛！",t[1]="启用成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customer/reply",{customerId:e.$route.query.customerId}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消禁用"})})},prohibitRelease:function(){var e=this,t=[];0==this.form.lockState?(t[0]="确认禁止回发布坛?",t[1]="禁用成功！"):(t[0]="确认启用发布论坛！",t[1]="启用成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customer/release",{customerId:e.$route.query.customerId}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消禁用"})})},onSubmit:function(){var e=this,t={customerId:this.$route.query.customerId,photoUrl:this.form.photoUrl,customerName:escape(this.form.customerName),phone:this.form.phone,cardNo:this.form.cardNo,passWord:this.form.passWord,sex:this.form.sex,type:1};t.phone.length<1||this.$axios.post("/api/back/customers",t).then(function(t){console.log(t),0==t.data.errcode&&(e.$message({showClose:!0,type:"success",message:"修改成功！"}),history.go(-1))}).catch(function(e){console.log(e)})}}},Ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/vipi"}}},[e._v("VIP会员管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("修改VIP会员信息")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("照片:")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别：",prop:"sex",rules:[{required:!0,message:"请选择性别",trigger:"blur"}]}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码："}},[a("el-input",{model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设备编号："}},[a("el-input",{model:{value:e.form.cardNo,callback:function(t){e.$set(e.form,"cardNo",t)},expression:"form.cardNo"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:""},on:{click:e.upgrade}},[e._v("降级为普通会员")]),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:e.disableFn}},[e._v(e._s(0==e.form.status?"禁用账号":"启用账号"))]),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:e.prohibitRelease}},[e._v(e._s(1==e.form.release?"开启发布论坛":"禁止发布论坛"))])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:""},on:{click:e.prohibitReply}},[e._v(e._s(1==e.form.reply?"开启回复论坛":"禁止回复论坛"))])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存修改")])],1)],1)],1)],1)},staticRenderFns:[]},et=a("VU/8")(Xe,Ze,!1,function(e){a("bCG1")},null,null).exports,tt=a("fZjL"),at=a.n(tt),st={name:"health-records",data:function(){return{options:[{label:"血糖数据",value:"BG"},{label:"血脂数据",value:"BLOODFAT"},{label:"血压数据",value:"BLOODPRESSURE"},{label:"心电图",value:"ECGPICTURE"},{label:"脂肪数据",value:"FAT"},{label:"血氧数据",value:"SPO"},{label:"尿常规分析数据",value:"UR"},{label:"体重计数据",value:"WEIGHT"}],webSitedata:{time:"",type:"BG",customerName:"",currentPage:1,total:0,pageSize:0,companyId:""},tableData:{BG:{name:"血糖数据",state:!0,value:"BG",currentPage:1,total:0,title:[{field:"dataKey",name:"用户设备编号",width:"200"},{field:"addDate",name:"添加时间",width:"90"},{field:"customerName",name:"用户姓名"},{field:"bloodSugarDataId",name:"血糖数据编号"},{field:"bloodSugar",name:"血糖值(mmol(1mmol=18mg/dl))",width:"220"}],data:[]},BLOODFAT:{name:"血脂数据",state:!1,value:"BLOODFAT",currentPage:1,total:0,title:[{field:"dataKey",name:"用户设备编号",width:"200"},{field:"addDate",name:"添加时间",width:"90"},{field:"customerName",name:"用户姓名"},{field:"bloodFatDataId",name:"血糖数据编号"},{field:"chol",name:"胆固醇含量\t（mmol/L）"},{field:"hdlchol",name:"高密度脂蛋白胆固醇含量（mmol/L）"},{field:"trig",name:"甘油三酯含量（mmol/L）"},{field:"calcldl",name:"低密度脂蛋白胆固醇含量（mmol/L）"},{field:"tchdl",name:"总胆固醇和高密度胆固醇的比值"}],data:[]},BLOODPRESSURE:{name:"血压数据",state:!1,value:"BLOODPRESSURE",currentPage:1,total:0,title:[{field:"dataKey",name:"用户设备编号",width:"200"},{field:"addDate",name:"添加时间",width:"90"},{field:"customerName",name:"用户姓名"},{field:"bloodPressureDataId",name:"血压数据编号"},{field:"diastolicPressure",name:"舒张压"},{field:"systolicPressure",name:"收缩压"},{field:"pulse",name:"脉率"}],data:[]},ECGPICTURE:{name:"心电图",state:!1,value:"ECGPICTURE",currentPage:1,total:0,title:[{field:"dataKey",name:"用户设备编号",width:"200"},{field:"addDate",name:"添加时间",width:"200"},{field:"customerName",name:"用户姓名"},{field:"ecgPictureDataId",name:"心电数据编号"},{field:"pictureDataUrl",name:"心电图",width:"220"}],data:[]},FAT:{name:"脂肪数据",state:!1,value:"FAT",currentPage:1,total:0,title:[{field:"dataKey",name:"用户设备编号",width:"200"},{field:"addDate",name:"添加时间",width:"90"},{field:"customerName",name:"用户姓名"},{field:"fatDataId",name:"脂肪数据编号"},{field:"height",name:"身高(cm)"},{field:"weight",name:"体重(kg)"},{field:"age",name:"年龄"},{field:"sex",name:"性别"},{field:"fatContent",name:"脂肪含量"},{field:"bmi",name:"体质指数"},{field:"bmr",name:"基础代谢值"},{field:"bmiResult",name:"体质指数判断结果"},{field:"bt",name:"体型类型"}],data:[]},SPO:{name:"血氧数据",state:!1,value:"SPO",currentPage:1,total:0,title:[{field:"dataKey",name:"用户设备编号",width:"200"},{field:"addDate",name:"添加时间",width:"90"},{field:"customerName",name:"用户姓名"},{field:"spoDataId",name:"血氧数据编号"},{field:"pulse",name:"脉率"},{field:"oxygen",name:"血氧值"}],data:[]},UR:{name:"尿常规分析数据",state:!1,value:"UR",currentPage:1,total:0,title:[{field:"dataKey",name:"用户设备编号",width:"200"},{field:"addDate",name:"添加时间",width:"90"},{field:"customerName",name:"用户姓名"},{field:"urDataId",name:"尿常规数据编号"},{field:"leu",name:"白细胞值"},{field:"nit",name:"亚硝酸盐值"},{field:"ubg",name:"尿胆原值"},{field:"pro",name:"蛋白质值"},{field:"ph",name:"酸碱度值"},{field:"bld",name:"红细胞值"},{field:"sg",name:"比重"},{field:"ket",name:"酮体值"},{field:"bil",name:"胆红素值"},{field:"glu",name:"葡萄糖值"},{field:"vc",name:"维生素值"}],data:[]},WEIGHT:{name:"体重计数据",state:!1,value:"WEIGHT",currentPage:1,total:0,title:[{field:"dataKey",name:"用户设备编号",width:"200"},{field:"addDate",name:"添加时间",width:"90"},{field:"customerName",name:"用户姓名"},{field:"weightDataId",name:"体重计数据编号"},{field:"weight",name:"体重数据(kg)"}],data:[]}}}},watch:{"webSitedata.type":function(e){var t=this;at()(this.tableData).forEach(function(a,s){t.tableData[a].value==e?(t.tableData[a].state=!0,t.webSitedata.total=t.tableData[a].total,t.webSitedata.pageSize=t.tableData[a].pageSize,t.webSitedata.currentPage=t.tableData[a].currentPage):t.tableData[a].state=!1})}},mounted:function(){this.webSitedata.customerName=this.$route.query.customerName,this.webSitedata.companyId=this.$route.query.companyId,this.getData()},methods:{getData:function(){var e=this,t=this,a={companyId:this.webSitedata.companyId,currentPage:this.webSitedata.currentPage,type:this.webSitedata.type,customerName:this.webSitedata.customerName};if(""!=this.webSitedata.time){var s=new Date(this.webSitedata.time[0]),o=new Date(this.webSitedata.time[1]),r=function(e){return e<10?"0"+e:e};a.beginDate=String(s.getFullYear())+"-"+r(String(s.getMonth()+1))+"-"+r(String(s.getDate())),a.endDate=String(o.getFullYear())+"-"+r(String(o.getMonth()+1))+"-"+r(String(o.getDate()))}this.modifytateS(a.type),this.$axios.get("/api/back/customers/data",{params:a}).then(function(s){if(console.log(s),null==s.data.data)e.tableData[a.type].data=[];else{var o=s.data.data.list;o.forEach(function(e,a){o[a].customerName=decodeURIComponent(e.customerName),e.pictureDataUrl&&(o[a].pictureDataUrl=t.$api+"/images/"+e.pictureDataUrl)}),e.tableData[a.type].data=o,e.webSitedata.total=s.data.data.total,e.webSitedata.pageSize=Number(s.data.data.pageSize),e.webSitedata.currentPage=s.data.data.pageNum,e.tableData[a.type].total=s.data.data.total,e.tableData[a.type].pageSize=Number(s.data.data.pageSize),e.tableData[a.type].currentPage=s.data.data.pageNum}}).catch(function(e){console.log(e)})},onSubmit:function(){this.getData()},getPage:function(e){this.tableData[this.webSitedata.type].currentPage=e,this.getData()},modifytateS:function(e){this.tableData.listname=[],this.tableData.listname=this.tableData[e].title,this.tableData.data=[]}}},ot={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m20 fsz14"},[a("div",{staticClass:"searchBox"},[a("el-form",{staticClass:"demo-form-inline mt10",attrs:{inline:!0}},[a("div",{staticClass:"block fl mr20 mb10"},[a("span",{staticClass:"demonstration"},[e._v("选择日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.webSitedata.time,callback:function(t){e.$set(e.webSitedata,"time",t)},expression:"webSitedata.time"}})],1),e._v(" "),a("div",{staticClass:"block fl mr20  mb10"},[a("span",{staticClass:"demonstration"},[e._v("选择项目：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.webSitedata.type,callback:function(t){e.$set(e.webSitedata,"type",t)},expression:"webSitedata.type"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"block fl mr20  mb10"},[a("el-form-item",{staticClass:"fr"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"姓名:"}},[a("el-input",{attrs:{placeholder:"填写姓名"},model:{value:e.webSitedata.customerName,callback:function(t){e.$set(e.webSitedata,"customerName",t)},expression:"webSitedata.customerName"}})],1)],1)])],1),e._v(" "),a("div",{staticClass:"tableCss"},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.tableData.BG.state,expression:"tableData.BG.state"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.BG.data,height:"400",border:"",stripe:""}},[e._l(e.tableData.BG.title,function(e){return[a("el-table-column",{attrs:{align:"center",prop:e.field,label:e.name,width:e.width?e.width:"auto"}})]})],2),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.tableData.BLOODFAT.state,expression:"tableData.BLOODFAT.state"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.BLOODFAT.data,height:"400",border:"",stripe:""}},[e._l(e.tableData.BLOODFAT.title,function(e){return[a("el-table-column",{attrs:{align:"center",prop:e.field,label:e.name,width:e.width?e.width:"auto"}})]})],2),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.tableData.BLOODPRESSURE.state,expression:"tableData.BLOODPRESSURE.state"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.BLOODPRESSURE.data,height:"400",border:"",stripe:""}},[e._l(e.tableData.BLOODPRESSURE.title,function(e){return[a("el-table-column",{attrs:{align:"center",prop:e.field,label:e.name,width:e.width?e.width:"auto"}})]})],2),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.tableData.ECGPICTURE.state,expression:"tableData.ECGPICTURE.state"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.ECGPICTURE.data,height:"400",border:"",stripe:""}},[e._l(e.tableData.ECGPICTURE.title,function(t){return["pictureDataUrl"!=t.field?a("el-table-column",{attrs:{align:"center",prop:t.field,label:t.name,width:t.width?t.width:"auto"}}):e._e(),e._v(" "),"pictureDataUrl"==t.field?a("el-table-column",{attrs:{align:"center",prop:t.field,label:t.name,width:t.width?t.width:"auto"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"cell_img",attrs:{src:e.row.pictureDataUrl,alt:""}})]}}])}):e._e()]})],2),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.tableData.FAT.state,expression:"tableData.FAT.state"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.FAT.data,height:"400",border:"",stripe:""}},[e._l(e.tableData.FAT.title,function(e){return[a("el-table-column",{attrs:{align:"center",prop:e.field,label:e.name,width:e.width?e.width:"auto"}})]})],2),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.tableData.SPO.state,expression:"tableData.SPO.state"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.SPO.data,height:"400",border:"",stripe:""}},[e._l(e.tableData.SPO.title,function(e){return[a("el-table-column",{attrs:{align:"center",prop:e.field,label:e.name,width:e.width?e.width:"auto"}})]})],2),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.tableData.UR.state,expression:"tableData.UR.state"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.UR.data,height:"400",border:"",stripe:""}},[e._l(e.tableData.UR.title,function(e){return[a("el-table-column",{attrs:{align:"center",prop:e.field,label:e.name,width:e.width?e.width:"auto"}})]})],2),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.tableData.WEIGHT.state,expression:"tableData.WEIGHT.state"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.WEIGHT.data,height:"400",border:"",stripe:""}},[e._l(e.tableData.WEIGHT.title,function(e){return[a("el-table-column",{attrs:{align:"center",prop:e.field,label:e.name,width:e.width?e.width:"auto"}})]})],2)],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.webSitedata.total,"page-size":e.webSitedata.pageSize,total:e.webSitedata.total},on:{"update:currentPage":function(t){e.$set(e.webSitedata,"total",t)},"current-change":e.getPage}})],1)},staticRenderFns:[]},rt=a("VU/8")(st,ot,!1,function(e){a("RPVy")},"data-v-78c49453",null).exports,nt={name:"remote-order",data:function(){return{options:[{label:"血糖数据",value:"BG"},{label:"血脂数据",value:"BLOODFAT"},{label:"血压数据",value:"BLOODPRESSURE"},{label:"心电图",value:"ECGPICTURE"},{label:"脂肪数据",value:"FAT"},{label:"血氧数据",value:"SPO"},{label:"尿常规分析数据",value:"UR"},{label:"体重计数据",value:"WEIGHT"}],webSitedata:{time:"",type:"BG",customerName:"",currentPage:1,total:0,pageSize:1},tableData:{title:[{field:"creatDate",name:"异常上报时间",width:"200"},{field:"customerName",name:"会员",width:"100"},{field:"doctorName",name:"家庭医生",width:"100"},{field:"abnormalDataText",name:"异常数据",width:"200"},{field:"abnormal",name:"医生建议"},{field:"state",name:"远程会诊订单状态"}],data:[]}}},watch:{},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this,a={beginDate:"",endDate:"",customerName:this.webSitedata.customerName,companyId:this.cookieFn.get("usersid"),currentPage:this.webSitedata.currentPage,type:this.webSitedata.type};if(""!=this.webSitedata.time){var s=new Date(this.webSitedata.time[0]),o=new Date(this.webSitedata.time[1]),r=function(e){return e<10?"0"+e:e};a.beginDate=String(s.getFullYear())+"-"+r(String(s.getMonth()+1))+"-"+r(String(s.getDate())),a.endDate=String(o.getFullYear())+"-"+r(String(o.getMonth()+1))+"-"+r(String(o.getDate()))}this.$axios.get("/api/back/customers/abnormal",{params:a}).then(function(a){if(console.log(a),t.tableData.data=[],null!=a.data.data){var s=a.data.data.list;s.forEach(function(e,a){s[a].customerName=decodeURIComponent(e.customerName);var o=" ";switch(e.state){case 0:o="无状态";break;case 1:o="会员发起远程会诊,未支付";break;case 2:o="发起会诊已支付未结束";break;case 3:o="会诊结束"}console.log(s[a].creatDate),s[a].creatDate=t.$timeonversionC(e.creatDate),console.log(s[a].creatDate),s[a].abnormalDataText=[],s[a].abnormalData.forEach(function(e,o){"心电图"===e.name?s[a].abnormalDataText.push(t.$api+"/images/"+e.value):s[a].abnormalDataText.push(e.name+":"+e.value)}),s[a].abnormalDataText=s[a].abnormalDataText.join("  "),s[a].state=o}),console.log(s),e.tableData.data=s,e.webSitedata.total=a.data.data.total,e.webSitedata.pageSize=Number(a.data.data.pageSize),e.webSitedata.currentPage=a.data.data.pageNum}else console.log("数据为空")}).catch(function(e){console.log(e)})},onSubmit:function(){this.getData()},getPage:function(e){this.webSitedata.currentPage=e,this.getData()}}},it={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m20 fsz14"},[a("div",{staticClass:"searchBox"},[a("el-form",{staticClass:"demo-form-inline mt10",attrs:{inline:!0}},[a("div",{staticClass:"block fl mr20 mb10"},[a("span",{staticClass:"demonstration"},[e._v("选择日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.webSitedata.time,callback:function(t){e.$set(e.webSitedata,"time",t)},expression:"webSitedata.time"}})],1),e._v(" "),a("div",{staticClass:"block fl mr20  mb10"},[a("span",{staticClass:"demonstration"},[e._v("选择项目：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.webSitedata.type,callback:function(t){e.$set(e.webSitedata,"type",t)},expression:"webSitedata.type"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"block fl mr20  mb10"},[a("el-form-item",{staticClass:"fr"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"姓名:"}},[a("el-input",{attrs:{placeholder:"填写姓名"},model:{value:e.webSitedata.customerName,callback:function(t){e.$set(e.webSitedata,"customerName",t)},expression:"webSitedata.customerName"}})],1)],1)])],1),e._v(" "),a("div",{staticClass:"tableCss"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.data,height:"400",border:"",stripe:""}},[e._l(e.tableData.title,function(t){return["异常数据"!==t.name?a("el-table-column",{attrs:{align:"center",prop:t.field,label:t.name,width:t.width?t.width:"auto"}}):e._e(),e._v(" "),"异常数据"==t.name?a("el-table-column",{attrs:{align:"center",label:t.name,width:t.width?t.width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){return["心电图"==t.row.abnormalData[0].name?a("img",{staticStyle:{width:"100%",display:"block"},attrs:{src:t.row.abnormalDataText,alt:""}}):e._e(),e._v(" "),"心电图"!==t.row.abnormalData[0].name?a("span",[e._v(e._s(t.row.abnormalDataText))]):e._e()]}}])}):e._e()]})],2)],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","page-size":e.webSitedata.pageSize,total:e.webSitedata.total},on:{"current-change":e.getPage}})],1)},staticRenderFns:[]},lt=a("VU/8")(nt,it,!1,function(e){a("de0l")},null,null).exports,ct={name:"remote-order",data:function(){return{options:[{label:"血糖数据",value:"BG"},{label:"血脂数据",value:"BLOODFAT"},{label:"血压数据",value:"BLOODPRESSURE"},{label:"心电图",value:"ECGPICTURE"},{label:"脂肪数据",value:"FAT"},{label:"血氧数据",value:"SPO"},{label:"尿常规分析数据",value:"UR"},{label:"体重计数据",value:"WEIGHT"}],webSitedata:{time:"",type:"BG",customerName:"",currentPage:1,total:0,pageSize:1},tableData:{title:[{field:"dataDate",name:"报告时间",width:"200"},{field:"customerName",name:"会员",width:"100"},{field:"doctorName",name:"家庭医生",width:"100"},{field:"abnormalDataText",name:"异常数据"},{field:"abnormal",name:"医生建议"},{field:"state",name:"远程会诊订单状态"}],data:[]}}},watch:{webSitedatatotal:function(e){console.log(e)}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t={beginDate:"",endDate:"",customerName:this.webSitedata.customerName,companyId:this.cookieFn.get("usersid"),currentPage:this.webSitedata.currentPage,type:this.webSitedata.type};if(""!=this.webSitedata.time){var a=new Date(this.webSitedata.time[0]),s=new Date(this.webSitedata.time[1]),o=function(e){return e<10?"0"+e:e};t.beginDate=String(a.getFullYear())+"-"+o(String(a.getMonth()+1))+"-"+o(String(a.getDate())),t.endDate=String(s.getFullYear())+"-"+o(String(s.getMonth()+1))+"-"+o(String(s.getDate()))}this.$axios.get("/api/back/customers/abnormal",{params:t}).then(function(t){if(console.log(t),null==t.data.data)return e.tableData.data=[],void console.log("数据为空");var a=t.data.data.list;a.forEach(function(e,t){a[t].customerName=decodeURIComponent(e.customerName);var s=" ";switch(e.state){case 0:s="无状态";break;case 1:s="会员发起远程会诊,未支付";break;case 2:s="发起会诊已支付未结束";break;case 3:s="会诊结束"}a[t].state=s,a[t].abnormalDataText=[],a[t].abnormalData.forEach(function(e,s){a[t].abnormalDataText.push(e.name+":"+e.value)}),a[t].abnormalDataText=a[t].abnormalDataText.join("  ")}),e.tableData.data=a,e.webSitedata.total=t.data.data.total,e.webSitedata.pageSize=Number(t.data.data.pageSize),e.webSitedata.currentPage=t.data.data.pageNum}).catch(function(e){console.log(e)})},onSubmit:function(){this.getData()},getPage:function(e){this.webSitedata.currentPage=e,this.getData()},addCoed:function(e){var t=this;this.$prompt("请输入添加的请求码","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var s=a.value;t.$axios.post("/api/back/customers/abnormal",{abnormalId:e.abnormalId,consultationCode:s}).then(function(e){console.log(e),t.getData(),t.$message({type:"success",message:"添加成功!"})}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"取消输入"})})},postOffline:function(e){var t=this;this.$axios.post("/api/back/abnormal",{abnormalId:e.abnormalId}).then(function(e){console.log(e),t.getData(),t.$message({type:"success",message:"下线成功!"})}).catch(function(e){console.log(e)})},goOnline:function(e){var t=this;this.$confirm("线后，健康管理网站会展示本条提问。","提示",{confirmButtonText:"知道了",cancelButtonText:"暂不上线",type:"warning"}).then(function(){t.$axios.post("/api/back/abnormal",{abnormalId:e.abnormalId}).then(function(e){console.log(e),t.getData(),t.$message({type:"success",message:"上线成功!"})}).catch(function(e){this.$message.error("上线失败"),console.log(e)})}).catch(function(){t.$message({type:"info",message:"取消上线"})})}}},mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"m20 fsz14"},[a("div",{staticClass:"searchBox"},[a("el-form",{staticClass:"demo-form-inline mt10",attrs:{inline:!0}},[a("div",{staticClass:"block fl mr20 mb10"},[a("span",{staticClass:"demonstration"},[e._v("选择日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.webSitedata.time,callback:function(t){e.$set(e.webSitedata,"time",t)},expression:"webSitedata.time"}})],1),e._v(" "),a("div",{staticClass:"block fl mr20  mb10"},[a("span",{staticClass:"demonstration"},[e._v("选择项目：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.webSitedata.type,callback:function(t){e.$set(e.webSitedata,"type",t)},expression:"webSitedata.type"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"block fl mr20  mb10"},[a("el-form-item",{staticClass:"fr"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1),e._v(" "),a("el-form-item",{staticClass:"fl",attrs:{label:"姓名:"}},[a("el-input",{attrs:{placeholder:"填写姓名"},model:{value:e.webSitedata.customerName,callback:function(t){e.$set(e.webSitedata,"customerName",t)},expression:"webSitedata.customerName"}})],1)],1)])],1),e._v(" "),a("div",{staticClass:"tableCss"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.data,height:"400",border:"",stripe:""}},[e._l(e.tableData.title,function(e){return[a("el-table-column",{attrs:{align:"center",prop:e.field,label:e.name,width:e.width?e.width:"auto"}})]}),e._v(" "),[a("el-table-column",{attrs:{align:"center",label:"远程请求码",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.consultationCode?e._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.addCoed(t.row)}}},[e._v("添加请求码")]),e._v(" "),t.row.consultationCode?a("span",[e._v("\n              "+e._s(t.row.consultationCode)+"\n            ")]):e._e()]}}])})],e._v(" "),[a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isShow?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.postOffline(t.row)}}},[e._v("下线")]):e._e(),e._v(" "),1==t.row.isShow?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.goOnline(t.row)}}},[e._v("上线")]):e._e()]}}])})]],2)],1),e._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","page-size":e.webSitedata.pageSize,total:e.webSitedata.total},on:{"current-change":e.getPage}})],1)},staticRenderFns:[]},ut=a("VU/8")(ct,mt,!1,function(e){a("xT+x")},null,null).exports,dt=a("Icdr");a("GbHy"),a("Oq2I"),a("miEh");var pt={name:"Chart",data:function(){return{pickerOptions:{shortcuts:[{text:"今日",onClick:function(e){var t=new Date;e.$emit("pick",[t,t])}},{text:"近7日",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"近30日",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]},authour:"Wrisewrong",time:"",titleData:"7日数据",webget:{type:2},chartData:[]}},mounted:function(){this.myChart=dt.init(document.getElementById("myChart")),this.onSubmit(!0)},methods:{setTime:function(){this.webget={};var e=new Date,t=new Date(this.time[0]),a=new Date(this.time[1]),s=function(e){return e<10?"0"+e:e},o=(a-t)/1e3/60/60/24,r=String(e.getFullYear())+"-"+s(String(e.getMonth()+1))+"-"+s(String(e.getDate())),n=String(t.getFullYear())+"-"+s(String(t.getMonth()+1))+"-"+s(String(t.getDate())),i=String(a.getFullYear())+"-"+s(String(a.getMonth()+1))+"-"+s(String(a.getDate())),l=r===i;0===o&&l?(this.webget.type=1,this.titleData="今日数据"):7===o&&l||0==this.time.length?(this.webget.type=2,this.titleData="7日数据"):30===o&&l?(this.webget.type=3,this.titleData="30日数据"):(this.webget.beginDate=n,this.webget.endDate=i,this.titleData=n+"~"+i+"日数据")},onSubmit:function(e){var t=this,a=this;!0!==e&&this.setTime();var s=this.webget;this.$axios.get("/api/back/statistics",{params:s}).then(function(e){if(30007!==e.data.errcode)if(0===e.data.errcode){t.$message({type:"success",message:"查询成功!"});var s=e.data.data;t.chartData=[],t.chartData.push({value:s.dataCount,itemStyle:{color:"#c23531"}}),t.chartData.push({value:s.doctorCount,itemStyle:{color:"#2f4554"}}),t.chartData.push({value:s.vipCount,itemStyle:{color:"#61a0a8"}}),t.chartData.push({value:s.customerCount,itemStyle:{color:"#d48265"}}),t.chartData.push({value:s.orderCount,itemStyle:{color:"#91c7ae"}}),t.chartData.push({value:s.totalPrice,itemStyle:{color:"#749f83"}}),t.myChart.setOption({title:{text:t.titleData,left:"center"},tooltip:{},xAxis:{type:"category",data:["数据异常数","上报医生数","异常会员数","下单会员数","下单数","总金额"]},yAxis:{},color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],series:[{label:{show:!0},type:"bar",data:t.chartData}]}),console.log(a.chartData)}else t.$message({type:"error",message:"查询失败!"});else t.$message({type:"error",message:"查询数据为空!"})}).catch(function(e){console.log(e)})}}},ht={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"charts"},[a("div",{staticClass:"searchBox"},[a("el-form",{staticClass:"demo-form-inline mt10",attrs:{inline:!0}},[a("div",{staticClass:"block fl mr20 mb10"},[a("span",{staticClass:"demonstration"},[e._v("选择日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),a("div",{staticClass:"block fl mr20  mb10"},[a("el-form-item",{staticClass:"fr"},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)])],1),e._v(" "),a("div",{style:{width:"800px",height:"400px"},attrs:{id:"myChart"}})])},staticRenderFns:[]},ft=a("VU/8")(pt,ht,!1,function(e){a("VXWX")},"data-v-043cd9bb",null).exports,gt={name:"regular-member-management",data:function(){return{searchData:{path:"/regularmm/newregularmembermanagement",name:"",placeholder:"输入姓名"},total:0,pageSize:0,webSitedata:{currentPage:1,customer:""},tableData:{listname:[{field:"creatDate",name:"创建时间",width:"90"},{field:"photoUrl",name:"头像",width:"100"},{field:"customerName",name:"姓名"},{field:"phone",name:"手机号"},{field:"loginName",name:"账号"},{field:"status",name:"状态"}],data:[]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.$axios.get("/api/back/customers",{params:this.webSitedata}).then(function(a){console.log(a,"-------");var s=a.data.data.list;s.forEach(function(e,a){s[a].creatDate=t.$timeonversionC(e.creatDate),s[a].customerName=unescape(e.customerName),s[a].status=0==e.status?"未禁用":"禁用",s[a].photoUrl=t.$api+"/images/"+e.photoUrl}),e.tableData.data=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize),e.webSitedata.currentPage=a.data.data.pageNum,console.log(e.tableData.data)}).catch(function(e){console.log(e)})},onSubmit:function(e){this.webSitedata.customer=e,this.getData()},getPage:function(e){this.webSitedata.currentPage=e,this.getData()},postDelete:function(e){var t=this;console.log(e.usersid),this.$confirm("确认删除用户账号？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/api/back/customer/delete",{customerId:e.customerId}).then(function(e){t.$message({type:"success",message:"删除成功！"}),t.getData()}).catch(function(e){console.log(e)})}).catch(function(){t.$message({type:"info",message:"已取消"})})},postModify:function(e){console.log(e.customerId),this.$router.push({path:"/regularmm/reviseregularmembermanagement",query:{customerId:e.customerId}})}},components:{Search:D,DataTable:Ce}},vt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"website-mccount-management"},[t("Search",{attrs:{searchData:this.searchData},on:{response:this.onSubmit}}),this._v(" "),t("DataTable",{attrs:{dataTable:this.tableData},on:{modify:this.postModify,delete:this.postDelete}}),this._v(" "),t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","page-size":this.pageSize,total:this.total},on:{"current-change":this.getPage}})],1)},staticRenderFns:[]},bt=a("VU/8")(gt,vt,!1,function(e){a("6g3T")},null,null).exports,wt={name:"new-doctor-management",data:function(){return{upimgUrl:this.$urlapi+"/back/customers/image",imageUrl:"",loading:!1,options:[{value:"男",label:"男"},{value:"女",label:"女"}],form:{photoUrl:"",customerName:"",phone:"",sex:"",type:0}}},watch:{},methods:{handleAvatarSuccess:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.photoUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return console.log(e),t||(this.loading=!1,this.$message.error("上传头像图片只能是 JPG 格式!")),a||(this.loading=!1,this.$message.error("上传头像图片大小不能超过 2MB!")),this.loading=!0,t&&a},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(console.log("====="),!e)throw new Error("参数错误")});var a={photoUrl:this.form.photoUrl,customerName:escape(this.form.customerName),phone:this.form.phone,sex:this.form.sex,type:0};11==a.phone.length?a.phone.length<1?this.$message({showClose:!0,type:"error",message:"请完善信息！！！"}):this.$axios.post("/api/back/customers",a).then(function(e){console.log(e),30012!=e.data.errcode?0==e.data.errcode&&(t.$message({showClose:!0,type:"success",message:"新建成功！"}),history.go(-1)):t.$message({showClose:!0,type:"error",message:"手机号重复，请重新填写！"})}).catch(function(e){console.log(e)}):this.$message({type:"error",message:"手机号码格式错误"})}},mounted:function(){}},_t={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/regularmm"}}},[e._v("普通会员管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("新建普通会员信息")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("照片:")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"姓名：",prop:"customerName",rules:[{required:!0,message:"请输入姓名",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别：",prop:"sex",rules:[{required:!0,message:"请输入姓名",trigger:"blur"}]}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号：",prop:"phone",rules:[{required:!0,message:"请输入手机号",trigger:"blur"}]}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("立即创建")])],1)],1)],1)],1)},staticRenderFns:[]},yt=a("VU/8")(wt,_t,!1,function(e){a("koAi")},null,null).exports,$t={name:"new-doctor-management",data:function(){return{loading:!1,options:[{value:"男",label:"男"},{value:"女",label:"女"}],upimgUrl:this.$urlapi+"/back/customers/image",imageUrl:"",form:""}},watch:{},mounted:function(){this.getForm()},methods:{getForm:function(){var e=this;this.$axios.get("/api/back/customers/"+this.$route.query.customerId).then(function(t){console.log(t);var a=t.data.data;e.imageUrl=e.$api+"/images/"+a.photoUrl,e.form={photoUrl:a.photoUrl,customerName:decodeURIComponent(a.customerName),phone:a.phone,cardNo:a.cardNo,status:a.status,passWord:a.passWord,sex:a.sex,reply:a.reply?a.reply:0,release:a.release?a.release:0}}).catch(function(e){console.log(e)})},handleAvatarSuccess:function(e,t){0===e.errcode?(this.$message({type:"success",message:"上传成功"}),this.imageUrl=this.$api+"/images/"+e.data,this.form.photoUrl=e.data):this.$message({type:"error",message:"上传失败"}),this.loading=!1},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return console.log(e),t||(this.loading=!1,this.$message.error("上传头像图片只能是 JPG 格式!")),a||(this.loading=!1,this.$message.error("上传头像图片大小不能超过 2MB!")),this.loading=!0,t&&a},handleAvatarError:function(e,t){this.loading=!1,this.$message({type:"error",message:"上传失败"})},upgrade:function(){var e=this;this.$confirm("确认升级为VIP？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customers/vip",{customerId:e.$route.query.customerId}).then(function(t){console.log(t),e.$message({type:"success",message:"升级成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消升级"})})},disableFn:function(){var e=this,t=[];0==this.form.lockState?(t[0]="禁用账号后此账号都不可继续使用！",t[1]="禁用成功！"):(t[0]="启用账号此账号都可正常使用！",t[1]="启用成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customers/lock",{customerId:e.$route.query.customerId}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消禁用"})})},setReset:function(){var e=this;this.$confirm("确认是否要重置密码？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/reset",{customerId:e.$route.query.customerId}).then(function(t){console.log(t),e.$message({type:"success",message:"重置成功"}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消重置"})})},prohibitReply:function(){var e=this,t=[];0==this.form.lockState?(t[0]="确认禁止回复论坛?",t[1]="禁用成功！"):(t[0]="确认启用回复论坛！",t[1]="启用成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customer/reply",{customerId:e.$route.query.customerId}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消禁用"})})},prohibitRelease:function(){var e=this,t=[];0==this.form.lockState?(t[0]="确认禁止回发布坛?",t[1]="禁用成功！"):(t[0]="确认启用发布论坛！",t[1]="启用成功！"),this.$confirm(t[0],"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/api/back/customer/release",{customerId:e.$route.query.customerId}).then(function(a){console.log(a),e.$message({type:"success",message:t[1]}),history.go(-1)}).catch(function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消禁用"})})},onSubmit:function(){var e=this,t={customerId:this.$route.query.customerId,photoUrl:this.form.photoUrl,customerName:this.form.customerName,phone:this.form.phone,passWord:this.form.passWord,sex:this.form.sex,type:0};t.phone.length<1||this.$axios.post("/api/back/customers",t).then(function(t){console.log(t),0==t.data.errcode&&(e.$message({showClose:!0,type:"success",message:"修改成功！"}),history.go(-1))}).catch(function(e){console.log(e)})}}},xt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-account m20 fsz14"},[a("el-breadcrumb",{attrs:{separator:">"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/regularmm"}}},[e._v("普通会员管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("修改普通会员信息")])],1),e._v(" "),a("div",{staticClass:"get_form mt20"},[a("div",{staticClass:"uplogo"},[a("span",{staticClass:"title"},[e._v("照片:")]),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader mb18",attrs:{action:e.upimgUrl,name:"imagePath","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form",{ref:"form",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{model:{value:e.form.customerName,callback:function(t){e.$set(e.form,"customerName",t)},expression:"form.customerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别：",prop:"sex",rules:[{required:!0,message:"请输入姓名",trigger:"blur"}]}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码："}},[a("el-input",{model:{value:e.form.passWord,callback:function(t){e.$set(e.form,"passWord",t)},expression:"form.passWord"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:""},on:{click:e.upgrade}},[e._v("升级为VIP")]),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:e.disableFn}},[e._v(e._s(0==e.form.status?"禁用账号":"启用账号"))]),e._v(" "),a("el-button",{attrs:{plain:""},on:{click:e.prohibitRelease}},[e._v(e._s(1==e.form.release?"开启发布论坛":"禁止发布论坛"))])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{plain:""},on:{click:e.prohibitReply}},[e._v(e._s(1==e.form.reply?"开启回复论坛":"禁止回复论坛"))])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存修改")])],1)],1)],1)],1)},staticRenderFns:[]},kt=a("VU/8")($t,xt,!1,function(e){a("zAdL")},null,null).exports,St={name:"login_log",data:function(){return{seach_text:"",total:0,pageSize:0,currentPage:1,tableData:{listname:[{field:"creatDate",name:"报告时间",width:"180"},{field:"loginName",name:"账号",width:"150"},{field:"question",name:"报告内容"}],data:[]}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t=this;this.$axios.get("/api/problem",{params:{currentPage:this.currentPage}}).then(function(a){console.log(a);var s=a.data.data.list;s.forEach(function(e,a){s[a].creatDate=t.$timeonversionC(e.creatDate)}),e.tableData.data=s,e.total=a.data.data.total,e.pageSize=Number(a.data.data.pageSize),e.currentPage=a.data.data.pageNum}).catch(function(e){console.log(e)})},getPage:function(e){console.log(e),this.currentPage=e,this.getData()},onSubmit:function(){this.getData()},postModify:function(){},tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""}}},Dt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login_log m20"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:this.tableData.data,height:"500",border:"",stripe:""}},[this._l(this.tableData.listname,function(e){return[t("el-table-column",{attrs:{align:"center",prop:e.field,label:e.name,width:e.width?e.width:"auto"}})]})],2),this._v(" "),t("el-pagination",{staticClass:"mt20",attrs:{background:"",layout:"total, prev, pager, next","page-size":this.pageSize,total:this.total},on:{"current-change":this.getPage}})],1)},staticRenderFns:[]},Ct=a("VU/8")(St,Dt,!1,function(e){a("MFAh")},"data-v-6e5517f8",null).exports;r.default.use(p.a);var Ut=[{path:"/",redirect:"/login"},{path:"/login",name:"登陆",component:y},{path:"/contentbox",redirect:"/welcome",name:"管理平台入口",meta:{requireAuth:!0},component:g,children:[{path:"/welcome",name:"入场页",meta:{requireAuth:!0},component:x},{path:"/websitemm",name:"网站账号管理",meta:{requireAuth:!0},component:P},{path:"/websitemm/newaccount",name:"新建账户",meta:{requireAuth:!0},component:R},{path:"/websitemm/reviseaccount",name:"修改账户",meta:{requireAuth:!0},component:A},{path:"/roleam",name:"角色权限管理",meta:{requireAuth:!0},component:V},{path:"/roleam/roleamlist",name:"角色权限管理表",meta:{requireAuth:!0},component:G},{path:"/roleam/newadministrator",name:"新建管理",meta:{requireAuth:!0},component:H},{path:"/roleam/reviseadministrator",name:"修改管理员",meta:{requireAuth:!0},component:Y},{path:"/webaccount",name:"网站账号",meta:{requireAuth:!0},component:ae},{path:"/forumm",name:"论坛管理",meta:{requireAuth:!0},component:Z},{path:"/forumm/comment",name:"评论",meta:{requireAuth:!0},component:ye},{path:"/enterprisa",name:"企业公告",meta:{requireAuth:!0},component:re},{path:"/enterprisa/newannouncement",name:"新建公告",meta:{requireAuth:!0},component:de},{path:"/enterprisa/reviseannouncement",name:"修改公告",meta:{requireAuth:!0},component:ke},{path:"/expertlh",name:"专家讲堂",meta:{requireAuth:!0},component:le},{path:"/expertlh/newexpertlecturehall",name:"专家讲堂-上传视频",meta:{requireAuth:!0},component:fe},{path:"/expertlh/reviseexpertlecturehall",name:"专家讲堂-修改视频",meta:{requireAuth:!0},component:be},{path:"/vipdm",name:"VIP医生管理",meta:{requireAuth:!0},component:Ie},{path:"/vipdm/newdoctorinformation",name:"新建VIP医生",meta:{requireAuth:!0},component:Ee},{path:"/vipdm/revisedoctorinformmation",name:"修改VIP医生",meta:{requireAuth:!0},component:ze},{path:"/doctorm",name:"医生管理",meta:{requireAuth:!0},component:Be},{path:"/doctorm/newdoctormanagement",name:"新建VIP信息",meta:{requireAuth:!0},component:Le},{path:"/doctorm/Revisedoctormanagement",name:"修改VIP信息",meta:{requireAuth:!0},component:We},{path:"/vipi",name:"VIP信息",meta:{requireAuth:!0},component:Ke},{path:"/vipi/newvipinformation",name:"新建vip会员",meta:{requireAuth:!0},component:Qe},{path:"/vipi/revisevipinformation",name:"修改vip会员",meta:{requireAuth:!0},component:et},{path:"/healthr",name:"健康记录",meta:{requireAuth:!0},component:rt},{path:"/abnormalr",name:"异常报告",meta:{requireAuth:!0},component:lt},{path:"/remoteo",name:"远程订单",meta:{requireAuth:!0},component:ut},{path:"/chart",name:"数据统计",meta:{requireAuth:!0},component:ft},{path:"/regularmm",name:"普通会员管理",meta:{requireAuth:!0},component:bt},{path:"/regularmm/newregularmembermanagement",name:"新建普通会员管理",meta:{requireAuth:!0},component:yt},{path:"/regularmm/reviseregularmembermanagement",name:"修改普通会员管理",meta:{requireAuth:!0},component:kt},{path:"/loginlog",name:"登录遇到问题",meta:{requireAuth:!0},component:Ct}]}],Nt=new p.a({routes:Ut});Nt.beforeEach(function(e,t,a){console.log(e);var s=e.path.split("/");null!=e.name||3!==s.length?null!=e.name?a():a({path:"/"}):a({path:"/"+s[s.length-1]})});var It=a("mtWM"),Tt=a.n(It),Pt=(a("Rf8U"),a("NYxO"));r.default.use(Pt.a);var Et=new Pt.a.Store({state:{username:null,truename:null,type:null},mutations:{set_username:function(e,t){e.username=t},delete_username:function(e){e.username=""},set_truename:function(e,t){e.truename=t},delete_truename:function(e){e.truename=""},set_type:function(e,t){e.type=t},delete_type:function(e){e.type=""}},actions:{signIn:function(e,t){e.commit("set_username",t.username),e.commit("set_truename",t.truename),e.commit("set_type",t.type)},signOut:function(e){e.commit("delete_username"),e.commit("delete_truename"),e.commit("delete_type")}}}),qt={install:function(e,t){e.prototype.cookieFn={get:function(e){var t,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(a))?unescape(t[2]):null},set:function(e,t){var a=new Date;a.setTime(a.getTime()+864e5),document.cookie=e+"="+escape(t)+";expires="+a.toGMTString()},delete:function(e){var t=new Date;t.setTime(t.getTime()-1),console.log(this);var a=this.get(e);null!=a&&(document.cookie=e+"="+a+";expires="+t.toGMTString())}},e.prototype.$api="http://47.104.146.162:8080",e.prototype.$urlapi="http://47.104.146.162:8080",e.prototype.$timeonversionC=function(e){this.zeroillF=function(e){return e<10?"0"+e:e};var t=new Date(e),a=t.getFullYear(),s=t.getMonth(),o=t.getDate(),r=t.getHours(),n=t.getMinutes(),i=t.getSeconds();return a+"-"+this.zeroillF(s+1)+"-"+this.zeroillF(o)+" "+this.zeroillF(r)+":"+this.zeroillF(n)+":"+this.zeroillF(i)}}},At=(a("cK4F"),a("G0J2")),zt=a.n(At);a("4qOc");r.default.use(i.a,{size:"small"}),r.default.use(zt.a),r.default.use(qt);var Ft=null;Tt.a.defaults.timeout=5e3,Tt.a.interceptors.request.use(function(e){var t=new RegExp("/api","g"),a=e.url.replace(t,"http://47.104.146.162:8080");return e.url=a,Ft=n.Loading.service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0)"}),e},function(e){return Ft.close(),o.a.reject(error)}),Tt.a.interceptors.response.use(function(e){return Ft.close(),401==e.status&&Nt.push({path:"/"}),e},function(e){return Ft.close(),console.log("返回错误"),401==e.response.status&&(n.Message.error("登陆超时"),Nt.push({path:"/"})),o.a.reject(error)}),r.default.prototype.$axios=Tt.a,new r.default({el:"#app",router:Nt,store:Et,template:"<App/>",components:{App:d}}),r.default.config.productionTip=!1},QHVw:function(e,t){},Qjkz:function(e,t){},R5gF:function(e,t){},RPVy:function(e,t){},T4I2:function(e,t){},Upui:function(e,t){},VXWX:function(e,t){},WJu6:function(e,t){},WWxU:function(e,t){},X3WR:function(e,t){},Y5t8:function(e,t){},Z9WC:function(e,t){},ZKof:function(e,t){},bCG1:function(e,t){},cK4F:function(e,t){},de0l:function(e,t){},gQSt:function(e,t){},hDPi:function(e,t){},ijFt:function(e,t){},koAi:function(e,t){},mVvu:function(e,t){},p4gI:function(e,t){},q18r:function(e,t){},q4jZ:function(e,t){},qhBF:function(e,t){},soAp:function(e,t){},sudI:function(e,t){},t9eN:function(e,t){},tvR6:function(e,t){},"xT+x":function(e,t){},zAdL:function(e,t){},zOW6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b35af4bc4c4b72099fad.js.map